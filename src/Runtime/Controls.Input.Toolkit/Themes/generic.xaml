<!--
// (c) Copyright Microsoft Corporation.
// This source is subject to the Microsoft Public License (Ms-PL).
// Please see http://go.microsoft.com/fwlink/?LinkID=131993 for details.
// All other rights reserved.
-->

<ResourceDictionary xmlns="clr-namespace:System.Windows"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:controls="clr-namespace:System.Windows.Controls"
                    xmlns:primitives="clr-namespace:System.Windows.Controls.Primitives"
                    xmlns:data="clr-namespace:System.Windows.Data"
                    xmlns:markup="clr-namespace:System.Windows.Markup"
                    xmlns:media="clr-namespace:System.Windows.Media"
                    xmlns:animation="clr-namespace:System.Windows.Media.Animation"
                    xmlns:effects="clr-namespace:System.Windows.Media.Effects"
                    xmlns:shapes="clr-namespace:System.Windows.Shapes">

    <!--  controls:ContextMenu  -->
    <Style TargetType="controls:ContextMenu">
        <Setter Property="Background"
                Value="#FFF5F5F5" />
        <Setter Property="BorderThickness"
                Value="1" />
        <Setter Property="BorderBrush"
                Value="#FF959595" />
        <Setter Property="Padding"
                Value="2" />
        <Setter Property="Template">
            <Setter.Value>
                <controls:ControlTemplate TargetType="controls:ContextMenu">
                    <controls:Border BorderBrush="{TemplateBinding BorderBrush}"
                                     BorderThickness="{TemplateBinding BorderThickness}"
                                     Background="{TemplateBinding Background}"
                                     CornerRadius="2">
                        <controls:Border.Effect>
                            <effects:DropShadowEffect Color="LightGray"
                                                      ShadowDepth="3" />
                        </controls:Border.Effect>
                        <controls:Grid>
                            <controls:Border CornerRadius="2"
                                             Background="#FFF1F1F1"
                                             Width="28"
                                             Margin="2"
                                             HorizontalAlignment="Left" />
                            <controls:Border Background="#FFE2E3E3"
                                             Width="1"
                                             Margin="30,2,0,2"
                                             HorizontalAlignment="Left" />
                            <controls:Border Background="#FFFFFFFF"
                                             Width="1"
                                             Margin="31,2,0,2"
                                             HorizontalAlignment="Left" />
                            <!--<controls:ScrollViewer
                            Margin="1,0,1,0"
                            controls:Grid.ColumnSpan="2"
                            BorderThickness="0"
                            VerticalScrollBarVisibility="Auto">-->
                            <controls:ItemsPresenter Margin="{TemplateBinding Padding}" />
                            <!--</controls:ScrollViewer>-->
                        </controls:Grid>
                    </controls:Border>
                </controls:ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  controls:MenuItem  -->
    <Style TargetType="controls:MenuItem">
        <Setter Property="Background"
                Value="Transparent" />
        <Setter Property="BorderBrush"
                Value="Transparent" />
        <Setter Property="Padding"
                Value="4,3,2,3" />
        <Setter Property="Template">
            <Setter.Value>
                <controls:ControlTemplate TargetType="controls:MenuItem">
                    <controls:Grid>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal" />
                                <VisualState x:Name="Disabled">
                                    <animation:Storyboard>
                                        <animation:DoubleAnimation Duration="0"
                                                                   animation:Storyboard.TargetName="Presenter"
                                                                   animation:Storyboard.TargetProperty="Opacity"
                                                                   To="0.5" />
                                    </animation:Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="FocusStates">
                                <VisualState x:Name="Unfocused" />
                                <VisualState x:Name="Focused">
                                    <animation:Storyboard>
                                        <animation:DoubleAnimation Duration="0"
                                                                   animation:Storyboard.TargetName="Bg"
                                                                   animation:Storyboard.TargetProperty="Opacity"
                                                                   To="1" />
                                        <animation:ColorAnimation Duration="0"
                                                                  animation:Storyboard.TargetName="InnerBorder"
                                                                  animation:Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)"
                                                                  To="#40FFFFFF" />
                                    </animation:Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <controls:Border CornerRadius="2"
                                         Background="{TemplateBinding Background}"
                                         BorderBrush="{TemplateBinding BorderBrush}"
                                         BorderThickness="1" />
                        <controls:Border x:Name="Bg"
                                         CornerRadius="2"
                                         BorderBrush="#8071CBF1"
                                         BorderThickness="1"
                                         Opacity="0">
                            <controls:Border.Background>
                                <media:LinearGradientBrush StartPoint="0,0"
                                                           EndPoint="0,1">
                                    <media:LinearGradientBrush.GradientStops>
                                        <media:GradientStop Color="#34C5EBFF"
                                                            Offset="0" />
                                        <media:GradientStop Color="#3481D8FF"
                                                            Offset="1" />
                                    </media:LinearGradientBrush.GradientStops>
                                </media:LinearGradientBrush>
                            </controls:Border.Background>
                        </controls:Border>
                        <controls:Border x:Name="InnerBorder"
                                         CornerRadius="2"
                                         BorderBrush="Transparent"
                                         BorderThickness="1"
                                         Margin="1" />
                        <controls:Grid>
                            <controls:Grid.ColumnDefinitions>
                                <controls:ColumnDefinition Width="Auto"
                                                           MinWidth="24" />
                                <controls:ColumnDefinition Width="4" />
                                <controls:ColumnDefinition Width="*" />
                                <!--<controls:ColumnDefinition Width="37"/>
                            <controls:ColumnDefinition Width="Auto"/>-->
                                <controls:ColumnDefinition Width="17" />
                            </controls:Grid.ColumnDefinitions>
                            <controls:ContentPresenter Content="{TemplateBinding Icon}"
                                                       ContentTemplate="{markup:Null}"
                                                       Margin="1"
                                                       VerticalAlignment="Center" />
                            <!--<controls:Border
                            BorderThickness="1"
                            CornerRadius="3"
                            BorderBrush="#FFCDD3E6"
                            Background="#FFE6EFF4"
                            x:Name="GlyphPanel"
                            Width="22"
                            Height="22"
                            Margin="1"
                            Visibility="Collapsed">
                            <shapes:Path
                                Data="M0,5.1L1.7,5.2 3.4,7.1 8,0.4 9.2,0 3.3,10.8z"
                                Fill="#FF0C12A1"
                                x:Name="Glyph"
                                Width="9"
                                Height="11"
                                FlowDirection="LeftToRight"/>
                        </controls:Border>-->
                            <controls:ContentPresenter x:Name="Presenter"
                                                       Content="{TemplateBinding Header}"
                                                       ContentTemplate="{TemplateBinding HeaderTemplate}"
                                                       Margin="{TemplateBinding Padding}"
                                                       controls:Grid.Column="2" />
                            <!--<controls:TextBlock
                            Text="{TemplateBinding InputGestureText}"
                            Margin="{TemplateBinding Padding}"
                            controls:Grid.Column="4"/>-->
                        </controls:Grid>
                    </controls:Grid>
                </controls:ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  controls:Separator  -->
    <Style TargetType="controls:Separator">
        <Setter Property="Background"
                Value="LightGray" />
        <Setter Property="IsTabStop"
                Value="False" />
        <Setter Property="Margin"
                Value="32,2,2,2" />
        <Setter Property="Template">
            <Setter.Value>
                <controls:ControlTemplate TargetType="controls:Separator">
                    <controls:Border BorderThickness="{TemplateBinding BorderThickness}"
                                     BorderBrush="{TemplateBinding BorderBrush}"
                                     Background="{TemplateBinding Background}"
                                     Height="1" />
                </controls:ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  controls:ListTimePickerPopup  -->
    <Style TargetType="controls:ListTimePickerPopup">
        <Setter Property="IsTabStop"
                Value="False" />
        <Setter Property="PopupMinutesInterval"
                Value="30" />
        <Setter Property="PopupSecondsInterval"
                Value="0" />
        <Setter Property="Template">
            <Setter.Value>
                <controls:ControlTemplate TargetType="controls:ListTimePickerPopup">
                    <controls:Grid Background="Transparent">
                        <VisualStateManager.VisualStateGroups>
                            <!-- Common States -->
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualStateGroup.Transitions>
                                    <VisualTransition GeneratedDuration="0" />
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="Normal" />
                                <VisualState x:Name="Disabled">
                                </VisualState>
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="FocusStates">
                                <VisualState x:Name="Focused">
                                </VisualState>
                                <VisualState x:Name="Unfocused" />
                            </VisualStateGroup>

                            <!-- Contained States -->
                            <VisualStateGroup x:Name="ContainedByPickerStates">
                                <VisualState x:Name="Contained">
                                    <animation:Storyboard />
                                </VisualState>
                                <VisualState x:Name="NotContained">
                                    <animation:Storyboard />
                                </VisualState>
                            </VisualStateGroup>

                            <!-- PopupModeStates -->
                            <VisualStateGroup x:Name="PopupModeStates">
                                <VisualState x:Name="AllowSecondsAndDesignatorsSelection">
                                </VisualState>
                                <VisualState x:Name="AllowTimeDesignatorsSelection">
                                </VisualState>
                                <VisualState x:Name="AllowSecondsSelection">
                                </VisualState>
                                <VisualState x:Name="HoursAndMinutesOnly">
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>

                        <controls:ListBox x:Name="ListBox"
                                          Style="{TemplateBinding ListBoxStyle}"
                                          ItemContainerStyle="{TemplateBinding ListBoxItemStyle}"
                                          IsTabStop="True"
                                          TabIndex="1"
                                          MaxHeight="130"
                                          DisplayMemberPath="Key"
                                          DataContext="{TemplateBinding TimeItemsSelection}"
                                          ItemsSource="{data:Binding Items}"
                                          SelectedItem="{data:Binding SelectedItem, Mode=TwoWay}">
                            <controls:ListBox.ItemsPanel>
                                <controls:ItemsPanelTemplate>
                                    <controls:VirtualizingStackPanel />
                                </controls:ItemsPanelTemplate>
                            </controls:ListBox.ItemsPanel>
                        </controls:ListBox>

                    </controls:Grid>
                </controls:ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  controls:RangeTimePickerPopup  -->
    <Style TargetType="controls:RangeTimePickerPopup">
        <Setter Property="IsTabStop"
                Value="False" />
        <Setter Property="PopupMinutesInterval"
                Value="5" />
        <Setter Property="PopupSecondsInterval"
                Value="0" />
        <Setter Property="Height"
                Value="300" />
        <Setter Property="HorizontalAlignment"
                Value="Stretch" />
        <Setter Property="Background"
                Value="White" />
        <Setter Property="SliderStyle">
            <Setter.Value>
                <Style TargetType="controls:Slider">
                    <Setter Property="Orientation"
                            Value="Vertical" />
                    <Setter Property="HorizontalAlignment"
                            Value="Center" />
                </Style>
            </Setter.Value>
        </Setter>
        <Setter Property="TimeButtonStyle">
            <Setter.Value>
                <Style TargetType="controls:Button">
                    <Setter Property="Template">
                        <Setter.Value>
                            <controls:ControlTemplate TargetType="controls:Button">
                                <controls:TextBlock x:Name="label"
                                                    Text="{TemplateBinding Content}"
                                                    Foreground="Black"
                                                    Margin="0"
                                                    Padding="0">
                                    <VisualStateManager.VisualStateGroups>
                                        <!-- common states -->
                                        <VisualStateGroup x:Name="CommonStates">
                                            <VisualState x:Name="Normal" />
                                            <VisualState x:Name="Disabled">
                                                <animation:Storyboard>
                                                    <animation:ColorAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                            Duration="00:00:00.0010000"
                                                                                            animation:Storyboard.TargetName="label"
                                                                                            animation:Storyboard.TargetProperty="(TextBlock.Foreground).(SolidColorBrush.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="Gray" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                </animation:Storyboard>
                                            </VisualState>
                                        </VisualStateGroup>
                                    </VisualStateManager.VisualStateGroups>
                                </controls:TextBlock>
                            </controls:ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Setter.Value>
        </Setter>
        <!--<Setter Property="TabNavigation" Value="Cycle" />-->
        <Setter Property="Template">
            <Setter.Value>
                <controls:ControlTemplate TargetType="controls:RangeTimePickerPopup">
                    <controls:Grid Background="{TemplateBinding Background}">
                        <VisualStateManager.VisualStateGroups>

                            <!-- Common States -->
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualStateGroup.Transitions>
                                    <VisualTransition GeneratedDuration="0" />
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="Normal" />
                                <VisualState x:Name="Disabled">
                                </VisualState>
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="FocusStates">
                                <VisualState x:Name="Focused">
                                </VisualState>
                                <VisualState x:Name="Unfocused" />
                            </VisualStateGroup>

                            <!-- Contained States -->
                            <VisualStateGroup x:Name="ContainedByPickerStates">
                                <VisualState x:Name="Contained">
                                </VisualState>
                                <VisualState x:Name="NotContained">
                                    <animation:Storyboard>
                                        <animation:ObjectAnimationUsingKeyFrames Duration="0"
                                                                                 animation:Storyboard.TargetName="Commit"
                                                                                 animation:Storyboard.TargetProperty="Visibility">
                                            <animation:DiscreteObjectKeyFrame KeyTime="0"
                                                                              Value="Collapsed" />
                                        </animation:ObjectAnimationUsingKeyFrames>
                                        <animation:ObjectAnimationUsingKeyFrames Duration="0"
                                                                                 animation:Storyboard.TargetName="Cancel"
                                                                                 animation:Storyboard.TargetProperty="Visibility">
                                            <animation:DiscreteObjectKeyFrame KeyTime="0"
                                                                              Value="Collapsed" />
                                        </animation:ObjectAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                            </VisualStateGroup>

                            <!-- PopupModeStates -->
                            <VisualStateGroup x:Name="PopupModeStates">
                                <VisualState x:Name="AllowSecondsAndDesignatorsSelection">
                                </VisualState>
                                <VisualState x:Name="AllowTimeDesignatorsSelection">
                                </VisualState>
                                <VisualState x:Name="AllowSecondsSelection">
                                </VisualState>
                                <VisualState x:Name="HoursAndMinutesOnly">
                                    <animation:Storyboard>
                                        <animation:ObjectAnimationUsingKeyFrames animation:Storyboard.TargetName="SecondsPanel"
                                                                                 animation:Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                                 Duration="0">
                                            <animation:DiscreteObjectKeyFrame KeyTime="0"
                                                                              Value="Collapsed" />
                                        </animation:ObjectAnimationUsingKeyFrames>
                                        <animation:ObjectAnimationUsingKeyFrames animation:Storyboard.TargetName="SecondsSlider"
                                                                                 animation:Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                                 Duration="0">
                                            <animation:DiscreteObjectKeyFrame KeyTime="0"
                                                                              Value="Collapsed" />
                                        </animation:ObjectAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>

                        <controls:Grid.Resources>
                            <Style x:Key="CommitButton"
                                   TargetType="controls:Button">
                                <Setter Property="Background"
                                        Value="#FF1F3B53" />
                                <Setter Property="Foreground"
                                        Value="#FF000000" />
                                <Setter Property="Padding"
                                        Value="3" />
                                <Setter Property="BorderThickness"
                                        Value="1" />
                                <Setter Property="BorderBrush"
                                        Value="#FF718597" />
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <controls:ControlTemplate TargetType="controls:Button">
                                            <controls:Grid FlowDirection="LeftToRight">
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CommonStates">
                                                        <VisualState x:Name="Normal" />
                                                        <VisualState x:Name="MouseOver">
                                                            <animation:Storyboard>
                                                                <animation:DoubleAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundAnimation"
                                                                                                         animation:Storyboard.TargetProperty="Opacity">
                                                                    <animation:SplineDoubleKeyFrame KeyTime="0"
                                                                                                    Value="1" />
                                                                </animation:DoubleAnimationUsingKeyFrames>
                                                                <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                                        animation:Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[1].(GradientStop.Color)">
                                                                    <animation:SplineColorKeyFrame KeyTime="0"
                                                                                                   Value="#F2FFFFFF" />
                                                                </animation:ColorAnimationUsingKeyFrames>
                                                                <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                                        animation:Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[2].(GradientStop.Color)">
                                                                    <animation:SplineColorKeyFrame KeyTime="0"
                                                                                                   Value="#CCFFFFFF" />
                                                                </animation:ColorAnimationUsingKeyFrames>
                                                                <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                                        animation:Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[3].(GradientStop.Color)">
                                                                    <animation:SplineColorKeyFrame KeyTime="0"
                                                                                                   Value="#7FFFFFFF" />
                                                                </animation:ColorAnimationUsingKeyFrames>
                                                            </animation:Storyboard>
                                                        </VisualState>
                                                        <VisualState x:Name="Pressed">
                                                            <animation:Storyboard>
                                                                <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="Background"
                                                                                                        animation:Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)">
                                                                    <animation:SplineColorKeyFrame KeyTime="0"
                                                                                                   Value="#FF6DBDD1" />
                                                                </animation:ColorAnimationUsingKeyFrames>
                                                                <animation:DoubleAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundAnimation"
                                                                                                         animation:Storyboard.TargetProperty="Opacity">
                                                                    <animation:SplineDoubleKeyFrame KeyTime="0"
                                                                                                    Value="1" />
                                                                </animation:DoubleAnimationUsingKeyFrames>
                                                                <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                                        animation:Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[0].(GradientStop.Color)">
                                                                    <animation:SplineColorKeyFrame KeyTime="0"
                                                                                                   Value="#D8FFFFFF" />
                                                                </animation:ColorAnimationUsingKeyFrames>
                                                                <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                                        animation:Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[1].(GradientStop.Color)">
                                                                    <animation:SplineColorKeyFrame KeyTime="0"
                                                                                                   Value="#C6FFFFFF" />
                                                                </animation:ColorAnimationUsingKeyFrames>
                                                                <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                                        animation:Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[2].(GradientStop.Color)">
                                                                    <animation:SplineColorKeyFrame KeyTime="0"
                                                                                                   Value="#8CFFFFFF" />
                                                                </animation:ColorAnimationUsingKeyFrames>
                                                                <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                                        animation:Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[3].(GradientStop.Color)">
                                                                    <animation:SplineColorKeyFrame KeyTime="0"
                                                                                                   Value="#3FFFFFFF" />
                                                                </animation:ColorAnimationUsingKeyFrames>
                                                            </animation:Storyboard>
                                                        </VisualState>
                                                        <VisualState x:Name="Disabled">
                                                            <animation:Storyboard>
                                                                <animation:DoubleAnimationUsingKeyFrames animation:Storyboard.TargetName="DisabledVisualElement"
                                                                                                         animation:Storyboard.TargetProperty="Opacity">
                                                                    <animation:SplineDoubleKeyFrame KeyTime="0"
                                                                                                    Value=".55" />
                                                                </animation:DoubleAnimationUsingKeyFrames>
                                                            </animation:Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                    <VisualStateGroup x:Name="FocusStates">
                                                        <VisualState x:Name="Focused">
                                                            <animation:Storyboard>
                                                                <animation:DoubleAnimationUsingKeyFrames animation:Storyboard.TargetName="FocusVisualElement"
                                                                                                         animation:Storyboard.TargetProperty="Opacity">
                                                                    <animation:SplineDoubleKeyFrame KeyTime="0"
                                                                                                    Value="1" />
                                                                </animation:DoubleAnimationUsingKeyFrames>
                                                            </animation:Storyboard>
                                                        </VisualState>
                                                        <VisualState x:Name="Unfocused" />
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                                <controls:Border x:Name="Background"
                                                                 Background="White"
                                                                 BorderBrush="{TemplateBinding BorderBrush}"
                                                                 BorderThickness="{TemplateBinding BorderThickness}"
                                                                 CornerRadius="3">
                                                    <controls:Grid Margin="1"
                                                                   Background="{TemplateBinding Background}">
                                                        <controls:Border x:Name="BackgroundAnimation"
                                                                         Opacity="0"
                                                                         Background="#FF448DCA" />
                                                        <shapes:Rectangle x:Name="BackgroundGradient">
                                                            <shapes:Rectangle.Fill>
                                                                <media:LinearGradientBrush EndPoint=".7,1"
                                                                                           StartPoint=".7,0">
                                                                    <media:GradientStop Color="#FFFFFFFF"
                                                                                        Offset="0" />
                                                                    <media:GradientStop Color="#F9FFFFFF"
                                                                                        Offset="0.375" />
                                                                    <media:GradientStop Color="#E5FFFFFF"
                                                                                        Offset="0.625" />
                                                                    <media:GradientStop Color="#C6FFFFFF"
                                                                                        Offset="1" />
                                                                </media:LinearGradientBrush>
                                                            </shapes:Rectangle.Fill>
                                                        </shapes:Rectangle>
                                                        <controls:Grid Margin="5.125,3.5,3.125,3.5">
                                                            <shapes:Path Height="6"
                                                                         HorizontalAlignment="Left"
                                                                         Margin="0.376,0,0,0"
                                                                         VerticalAlignment="Top"
                                                                         Width="6.861"
                                                                         Stretch="Fill"
                                                                         StrokeDashCap="Round"
                                                                         StrokeEndLineCap="Round"
                                                                         StrokeStartLineCap="Round"
                                                                         StrokeThickness="1.5"
                                                                         Data="M6.0443821,10.103714 L7.7407737,20.549189 M21.739996,1.5 L7.6783452,20.497122">
                                                                <shapes:Path.Stroke>
                                                                    <media:LinearGradientBrush EndPoint="0.5,1"
                                                                                               StartPoint="0.5,0">
                                                                        <media:GradientStop Color="#FF67CA0A" />
                                                                        <media:GradientStop Color="#FF498C38"
                                                                                            Offset="1" />
                                                                        <media:GradientStop Color="#FF29EE5B"
                                                                                            Offset="0.375" />
                                                                    </media:LinearGradientBrush>
                                                                </shapes:Path.Stroke>
                                                                <shapes:Path.Fill>
                                                                    <media:LinearGradientBrush EndPoint="0.5,1"
                                                                                               StartPoint="0.5,0">
                                                                        <media:GradientStop Color="#FF000000" />
                                                                        <media:GradientStop Color="#FFFFFFFF"
                                                                                            Offset="1" />
                                                                    </media:LinearGradientBrush>
                                                                </shapes:Path.Fill>
                                                            </shapes:Path>
                                                        </controls:Grid>
                                                    </controls:Grid>
                                                </controls:Border>
                                                <shapes:Rectangle x:Name="DisabledVisualElement"
                                                                  IsHitTestVisible="false"
                                                                  Opacity="0"
                                                                  Fill="#FFFFFFFF"
                                                                  RadiusX="3"
                                                                  RadiusY="3" />
                                                <shapes:Rectangle Margin="0.936,0.904,1.064,1.096"
                                                                  x:Name="FocusVisualElement"
                                                                  IsHitTestVisible="false"
                                                                  Opacity="0"
                                                                  Stroke="#FF6DBDD1"
                                                                  StrokeThickness="1"
                                                                  RadiusX="2"
                                                                  RadiusY="2" />
                                            </controls:Grid>
                                        </controls:ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                            <Style x:Key="CancelButton"
                                   TargetType="controls:Button">
                                <Setter Property="Background"
                                        Value="#FF1F3B53" />
                                <Setter Property="Foreground"
                                        Value="#FF000000" />
                                <Setter Property="Padding"
                                        Value="3" />
                                <Setter Property="BorderThickness"
                                        Value="1" />
                                <Setter Property="BorderBrush"
                                        Value="#FF718597" />
                                <Setter Property="Template">
                                    <Setter.Value>
                                        <controls:ControlTemplate TargetType="controls:Button">
                                            <controls:Grid FlowDirection="LeftToRight">
                                                <VisualStateManager.VisualStateGroups>
                                                    <VisualStateGroup x:Name="CommonStates">
                                                        <VisualState x:Name="Normal" />
                                                        <VisualState x:Name="MouseOver">
                                                            <animation:Storyboard>
                                                                <animation:DoubleAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundAnimation"
                                                                                                         animation:Storyboard.TargetProperty="Opacity">
                                                                    <animation:SplineDoubleKeyFrame KeyTime="0"
                                                                                                    Value="1" />
                                                                </animation:DoubleAnimationUsingKeyFrames>
                                                                <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                                        animation:Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[1].(GradientStop.Color)">
                                                                    <animation:SplineColorKeyFrame KeyTime="0"
                                                                                                   Value="#F2FFFFFF" />
                                                                </animation:ColorAnimationUsingKeyFrames>
                                                                <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                                        animation:Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[2].(GradientStop.Color)">
                                                                    <animation:SplineColorKeyFrame KeyTime="0"
                                                                                                   Value="#CCFFFFFF" />
                                                                </animation:ColorAnimationUsingKeyFrames>
                                                                <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                                        animation:Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[3].(GradientStop.Color)">
                                                                    <animation:SplineColorKeyFrame KeyTime="0"
                                                                                                   Value="#7FFFFFFF" />
                                                                </animation:ColorAnimationUsingKeyFrames>
                                                            </animation:Storyboard>
                                                        </VisualState>
                                                        <VisualState x:Name="Pressed">
                                                            <animation:Storyboard>
                                                                <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="Background"
                                                                                                        animation:Storyboard.TargetProperty="(Border.Background).(SolidColorBrush.Color)">
                                                                    <animation:SplineColorKeyFrame KeyTime="0"
                                                                                                   Value="#FF6DBDD1" />
                                                                </animation:ColorAnimationUsingKeyFrames>
                                                                <animation:DoubleAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundAnimation"
                                                                                                         animation:Storyboard.TargetProperty="Opacity">
                                                                    <animation:SplineDoubleKeyFrame KeyTime="0"
                                                                                                    Value="1" />
                                                                </animation:DoubleAnimationUsingKeyFrames>
                                                                <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                                        animation:Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[0].(GradientStop.Color)">
                                                                    <animation:SplineColorKeyFrame KeyTime="0"
                                                                                                   Value="#D8FFFFFF" />
                                                                </animation:ColorAnimationUsingKeyFrames>
                                                                <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                                        animation:Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[1].(GradientStop.Color)">
                                                                    <animation:SplineColorKeyFrame KeyTime="0"
                                                                                                   Value="#C6FFFFFF" />
                                                                </animation:ColorAnimationUsingKeyFrames>
                                                                <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                                        animation:Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[2].(GradientStop.Color)">
                                                                    <animation:SplineColorKeyFrame KeyTime="0"
                                                                                                   Value="#8CFFFFFF" />
                                                                </animation:ColorAnimationUsingKeyFrames>
                                                                <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                                        animation:Storyboard.TargetProperty="(Rectangle.Fill).(GradientBrush.GradientStops)[3].(GradientStop.Color)">
                                                                    <animation:SplineColorKeyFrame KeyTime="0"
                                                                                                   Value="#3FFFFFFF" />
                                                                </animation:ColorAnimationUsingKeyFrames>
                                                            </animation:Storyboard>
                                                        </VisualState>
                                                        <VisualState x:Name="Disabled">
                                                            <animation:Storyboard>
                                                                <animation:DoubleAnimationUsingKeyFrames animation:Storyboard.TargetName="DisabledVisualElement"
                                                                                                         animation:Storyboard.TargetProperty="Opacity">
                                                                    <animation:SplineDoubleKeyFrame KeyTime="0"
                                                                                                    Value=".55" />
                                                                </animation:DoubleAnimationUsingKeyFrames>
                                                            </animation:Storyboard>
                                                        </VisualState>
                                                    </VisualStateGroup>
                                                    <VisualStateGroup x:Name="FocusStates">
                                                        <VisualState x:Name="Focused">
                                                            <animation:Storyboard>
                                                                <animation:DoubleAnimationUsingKeyFrames animation:Storyboard.TargetName="FocusVisualElement"
                                                                                                         animation:Storyboard.TargetProperty="Opacity">
                                                                    <animation:SplineDoubleKeyFrame KeyTime="0"
                                                                                                    Value="1" />
                                                                </animation:DoubleAnimationUsingKeyFrames>
                                                            </animation:Storyboard>
                                                        </VisualState>
                                                        <VisualState x:Name="Unfocused" />
                                                    </VisualStateGroup>
                                                </VisualStateManager.VisualStateGroups>
                                                <controls:Border x:Name="Background"
                                                                 Background="White"
                                                                 BorderBrush="{TemplateBinding BorderBrush}"
                                                                 BorderThickness="{TemplateBinding BorderThickness}"
                                                                 CornerRadius="3">
                                                    <controls:Grid Margin="1"
                                                                   Background="{TemplateBinding Background}">
                                                        <controls:Border x:Name="BackgroundAnimation"
                                                                         Opacity="0"
                                                                         Background="#FF448DCA" />
                                                        <shapes:Rectangle x:Name="BackgroundGradient">
                                                            <shapes:Rectangle.Fill>
                                                                <media:LinearGradientBrush EndPoint=".7,1"
                                                                                           StartPoint=".7,0">
                                                                    <media:GradientStop Color="#FFFFFFFF"
                                                                                        Offset="0" />
                                                                    <media:GradientStop Color="#F9FFFFFF"
                                                                                        Offset="0.375" />
                                                                    <media:GradientStop Color="#E5FFFFFF"
                                                                                        Offset="0.625" />
                                                                    <media:GradientStop Color="#C6FFFFFF"
                                                                                        Offset="1" />
                                                                </media:LinearGradientBrush>
                                                            </shapes:Rectangle.Fill>
                                                        </shapes:Rectangle>
                                                        <controls:Grid Margin="5.125,3.5,3.125,3.5">
                                                            <shapes:Path Height="6"
                                                                         HorizontalAlignment="Left"
                                                                         Margin="-1.25,0,0,0"
                                                                         VerticalAlignment="Top"
                                                                         Width="7.75"
                                                                         Fill="#FF000000"
                                                                         Stretch="Fill"
                                                                         StrokeDashCap="Round"
                                                                         StrokeEndLineCap="Round"
                                                                         StrokeStartLineCap="Round"
                                                                         StrokeThickness="1.5"
                                                                         Data="M2.5,1.5000099 L20.5,19.50001 M21.739996,1.5 L1.5,19.883999">
                                                                <shapes:Path.Stroke>
                                                                    <media:LinearGradientBrush EndPoint="0.5,1"
                                                                                               StartPoint="0.5,0">
                                                                        <media:GradientStop Color="#FFEA7525" />
                                                                        <media:GradientStop Color="#FFDA715B"
                                                                                            Offset="0.371" />
                                                                        <media:GradientStop Color="#FFB72909"
                                                                                            Offset="1" />
                                                                    </media:LinearGradientBrush>
                                                                </shapes:Path.Stroke>
                                                            </shapes:Path>
                                                        </controls:Grid>
                                                    </controls:Grid>
                                                </controls:Border>
                                                <shapes:Rectangle x:Name="DisabledVisualElement"
                                                                  IsHitTestVisible="false"
                                                                  Opacity="0"
                                                                  Fill="#FFFFFFFF"
                                                                  RadiusX="3"
                                                                  RadiusY="3" />
                                                <shapes:Rectangle Margin="0.936,0.904,1.064,1.096"
                                                                  x:Name="FocusVisualElement"
                                                                  IsHitTestVisible="false"
                                                                  Opacity="0"
                                                                  Stroke="#FF6DBDD1"
                                                                  StrokeThickness="1"
                                                                  RadiusX="2"
                                                                  RadiusY="2" />
                                            </controls:Grid>
                                        </controls:ControlTemplate>
                                    </Setter.Value>
                                </Setter>
                            </Style>
                        </controls:Grid.Resources>

                        <controls:Grid.RowDefinitions>
                            <controls:RowDefinition Height="*" />
                            <controls:RowDefinition Height="Auto" />
                        </controls:Grid.RowDefinitions>

                        <controls:Grid HorizontalAlignment="Center"
                                       Margin="6">
                            <controls:Grid.ColumnDefinitions>
                                <controls:ColumnDefinition Width="Auto" />
                                <controls:ColumnDefinition Width="Auto" />
                                <controls:ColumnDefinition Width="Auto" />
                                <controls:ColumnDefinition Width="Auto" />
                                <controls:ColumnDefinition Width="Auto" />
                                <controls:ColumnDefinition Width="Auto" />
                                <controls:ColumnDefinition Width="Auto" />
                                <controls:ColumnDefinition Width="Auto" />
                            </controls:Grid.ColumnDefinitions>

                            <controls:Slider x:Name="HoursSlider"
                                             controls:Grid.Column="0"
                                             Style="{TemplateBinding SliderStyle}"
                                             Margin="5"
                                             Minimum="0"
                                             Maximum="23" />
                            <controls:Grid x:Name="HoursPanel"
                                           Margin="5"
                                           controls:Grid.Column="1" />

                            <controls:Slider x:Name="MinutesSlider"
                                             controls:Grid.Column="2"
                                             Style="{TemplateBinding SliderStyle}"
                                             SmallChange="{TemplateBinding PopupMinutesInterval}"
                                             Margin="5"
                                             Minimum="0"
                                             Maximum="59" />
                            <controls:Grid x:Name="MinutesPanel"
                                           Margin="5"
                                           controls:Grid.Column="3" />

                            <controls:Slider x:Name="SecondsSlider"
                                             controls:Grid.Column="4"
                                             Style="{TemplateBinding SliderStyle}"
                                             SmallChange="{TemplateBinding PopupSecondsInterval}"
                                             Margin="5"
                                             Minimum="0"
                                             Maximum="59" />
                            <controls:Grid x:Name="SecondsPanel"
                                           Margin="5"
                                           controls:Grid.Column="5" />

                            <controls:StackPanel controls:Grid.Column="6"
                                                 VerticalAlignment="Bottom"
                                                 HorizontalAlignment="Right"
                                                 Margin="12,0,0,0">
                                <controls:Button x:Name="Commit"
                                                 Margin="0,15,0,0"
                                                 HorizontalAlignment="Right"
                                                 TabIndex="2"
                                                 Style="{markup:StaticResource CommitButton}" />
                                <controls:Button x:Name="Cancel"
                                                 Margin="0,15,0,0"
                                                 HorizontalAlignment="Right"
                                                 TabIndex="3"
                                                 Style="{markup:StaticResource CancelButton}" />
                            </controls:StackPanel>
                        </controls:Grid>
                    </controls:Grid>
                </controls:ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  controls:TimePicker  -->
    <Style TargetType="controls:TimePicker">
        <Setter Property="IsTabStop"
                Value="False" />
        <Setter Property="MinWidth"
                Value="125" />
        <Setter Property="Height"
                Value="22" />
        <Setter Property="BorderThickness"
                Value="1" />
        <Setter Property="Background"
                Value="Transparent" />
        <Setter Property="BorderBrush"
                Value="#FF718597" />
        <Setter Property="PopupTemplate">
            <Setter.Value>
                <controls:TimePickerPopupTemplate>
                    <controls:ListTimePickerPopup />
                </controls:TimePickerPopupTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <controls:ControlTemplate TargetType="controls:TimePicker">
                    <controls:Grid x:Name="RootElement">
                        <VisualStateManager.VisualStateGroups>
                            <!-- common states -->
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal" />
                                <VisualState x:Name="MouseOver" />
                                <VisualState x:Name="Disabled" />
                                <VisualState x:Name="Pressed" />
                            </VisualStateGroup>
                            <!-- focus states -->
                            <VisualStateGroup x:Name="FocusStates">
                                <VisualState x:Name="Focused" />
                                <VisualState x:Name="Unfocused" />
                            </VisualStateGroup>
                            <!-- Popup states -->
                            <VisualStateGroup x:Name="PopupStates">
                                <VisualStateGroup.Transitions>
                                    <VisualTransition GeneratedDuration="0:0:0.1"
                                                      To="PopupOpened" />
                                    <VisualTransition GeneratedDuration="0:0:0.2"
                                                      To="PopupClosed" />
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="PopupOpened">
                                    <animation:Storyboard>
                                        <animation:DoubleAnimation animation:Storyboard.TargetName="PopupRoot"
                                                                   animation:Storyboard.TargetProperty="Opacity"
                                                                   To="1.0"
                                                                   Duration="00:00:00.0010000" />
                                    </animation:Storyboard>
                                </VisualState>
                                <VisualState x:Name="PopupClosed">
                                    <animation:Storyboard>
                                        <animation:DoubleAnimation animation:Storyboard.TargetName="PopupRoot"
                                                                   animation:Storyboard.TargetProperty="Opacity"
                                                                   To="0.0"
                                                                   Duration="00:00:00.0010000" />
                                    </animation:Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <controls:Grid.Resources>
                            <controls:ControlTemplate x:Key="PopupButtonTemplate"
                                                      TargetType="primitives:ToggleButton">
                                <!-- clock icon -->
                                <controls:Grid FlowDirection="LeftToRight"
                                               Height="20"
                                               Width="20">
                                    <VisualStateManager.VisualStateGroups>
                                        <VisualStateGroup x:Name="CommonStates">
                                            <VisualStateGroup.Transitions>
                                                <VisualTransition GeneratedDuration="00:00:00.1000000" />
                                            </VisualStateGroup.Transitions>
                                            <VisualState x:Name="Normal" />
                                            <VisualState x:Name="MouseOver">
                                                <animation:Storyboard>
                                                    <animation:DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                             Duration="00:00:00.0010000"
                                                                                             animation:Storyboard.TargetName="Highlight"
                                                                                             animation:Storyboard.TargetProperty="(UIElement.Opacity)">
                                                        <animation:SplineDoubleKeyFrame KeyTime="00:00:00"
                                                                                        Value="0.6" />
                                                    </animation:DoubleAnimationUsingKeyFrames>
                                                </animation:Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="Pressed">
                                                <animation:Storyboard>
                                                    <animation:DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                             Duration="00:00:00.0010000"
                                                                                             animation:Storyboard.TargetName="Highlight"
                                                                                             animation:Storyboard.TargetProperty="(UIElement.Opacity)">
                                                        <animation:SplineDoubleKeyFrame KeyTime="00:00:00"
                                                                                        Value="0.8" />
                                                    </animation:DoubleAnimationUsingKeyFrames>
                                                </animation:Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="Disabled">
                                                <animation:Storyboard>
                                                    <animation:DoubleAnimationUsingKeyFrames animation:Storyboard.TargetName="DisabledVisualElement"
                                                                                             animation:Storyboard.TargetProperty="Opacity">
                                                        <animation:SplineDoubleKeyFrame KeyTime="0"
                                                                                        Value=".55" />
                                                    </animation:DoubleAnimationUsingKeyFrames>
                                                </animation:Storyboard>
                                            </VisualState>
                                        </VisualStateGroup>
                                        <VisualStateGroup x:Name="CheckStates">
                                            <VisualState x:Name="Checked">
                                                <animation:Storyboard>
                                                    <animation:PointAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                            Duration="00:00:00.0010000"
                                                                                            animation:Storyboard.TargetName="ellipse"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.StartPoint)">
                                                        <animation:SplinePointKeyFrame KeyTime="00:00:00"
                                                                                       Value="1.016,0.377" />
                                                    </animation:PointAnimationUsingKeyFrames>
                                                    <animation:PointAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                            Duration="00:00:00.0010000"
                                                                                            animation:Storyboard.TargetName="ellipse"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.EndPoint)">
                                                        <animation:SplinePointKeyFrame KeyTime="00:00:00"
                                                                                       Value="-0.01,0.687" />
                                                    </animation:PointAnimationUsingKeyFrames>
                                                    <animation:PointAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                            Duration="00:00:00.0010000"
                                                                                            animation:Storyboard.TargetName="ellipse"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(LinearGradientBrush.EndPoint)">
                                                        <animation:SplinePointKeyFrame KeyTime="00:00:00"
                                                                                       Value="0.556,0.035" />
                                                    </animation:PointAnimationUsingKeyFrames>
                                                    <animation:PointAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                            Duration="00:00:00.0010000"
                                                                                            animation:Storyboard.TargetName="ellipse"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(LinearGradientBrush.StartPoint)">
                                                        <animation:SplinePointKeyFrame KeyTime="00:00:00"
                                                                                       Value="0.441,0.979" />
                                                    </animation:PointAnimationUsingKeyFrames>
                                                    <animation:PointAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                            Duration="00:00:00.0010000"
                                                                                            animation:Storyboard.TargetName="ellipse1"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.StartPoint)">
                                                        <animation:SplinePointKeyFrame KeyTime="00:00:00"
                                                                                       Value="0.984,0.328" />
                                                    </animation:PointAnimationUsingKeyFrames>
                                                    <animation:PointAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                            Duration="00:00:00.0010000"
                                                                                            animation:Storyboard.TargetName="ellipse1"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.EndPoint)">
                                                        <animation:SplinePointKeyFrame KeyTime="00:00:00"
                                                                                       Value="0.031,0.719" />
                                                    </animation:PointAnimationUsingKeyFrames>
                                                    <animation:PointAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                            Duration="00:00:00.0010000"
                                                                                            animation:Storyboard.TargetName="ellipse2"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.EndPoint)">
                                                        <animation:SplinePointKeyFrame KeyTime="00:00:00"
                                                                                       Value="-0.047,0.516" />
                                                    </animation:PointAnimationUsingKeyFrames>
                                                    <animation:PointAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                            Duration="00:00:00.0010000"
                                                                                            animation:Storyboard.TargetName="ellipse2"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.StartPoint)">
                                                        <animation:SplinePointKeyFrame KeyTime="00:00:00"
                                                                                       Value="1.016,0.422" />
                                                    </animation:PointAnimationUsingKeyFrames>
                                                    <animation:PointAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                            Duration="00:00:00.0010000"
                                                                                            animation:Storyboard.TargetName="ellipse3"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.StartPoint)">
                                                        <animation:SplinePointKeyFrame KeyTime="00:00:00"
                                                                                       Value="1.062,0.375" />
                                                    </animation:PointAnimationUsingKeyFrames>
                                                    <animation:PointAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                            Duration="00:00:00.0010000"
                                                                                            animation:Storyboard.TargetName="ellipse3"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.EndPoint)">
                                                        <animation:SplinePointKeyFrame KeyTime="00:00:00"
                                                                                       Value="0.031,0.688" />
                                                    </animation:PointAnimationUsingKeyFrames>
                                                    <animation:PointAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                            Duration="00:00:00.0010000"
                                                                                            animation:Storyboard.TargetName="ellipse4"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.StartPoint)">
                                                        <animation:SplinePointKeyFrame KeyTime="00:00:00"
                                                                                       Value="1.031,0.281" />
                                                    </animation:PointAnimationUsingKeyFrames>
                                                    <animation:PointAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                            Duration="00:00:00.0010000"
                                                                                            animation:Storyboard.TargetName="ellipse4"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Stroke).(LinearGradientBrush.EndPoint)">
                                                        <animation:SplinePointKeyFrame KeyTime="00:00:00"
                                                                                       Value="-0.188,0.656" />
                                                    </animation:PointAnimationUsingKeyFrames>
                                                </animation:Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="Unchecked" />
                                        </VisualStateGroup>
                                        <VisualStateGroup x:Name="FocusStates">
                                            <VisualState x:Name="Focused"></VisualState>
                                            <VisualState x:Name="Unfocused" />
                                        </VisualStateGroup>
                                    </VisualStateManager.VisualStateGroups>
                                    <controls:Grid>
                                        <controls:Grid.Resources>
                                            <media:LinearGradientBrush x:Key="Dot"
                                                                       EndPoint="1.025,0.434"
                                                                       StartPoint="-0.025,0.566">
                                                <media:GradientStop Color="#FFC8C8C8" />
                                                <media:GradientStop Color="#FF19191A"
                                                                    Offset="1" />
                                            </media:LinearGradientBrush>
                                        </controls:Grid.Resources>
                                        <shapes:Ellipse Margin="0,0,0,0"
                                                        Stroke="#FF0052CA"
                                                        StrokeThickness="1"
                                                        x:Name="Highlight"
                                                        Opacity="0" />
                                        <shapes:Ellipse Margin="1,1,1,1"
                                                        Stroke="{markup:StaticResource Dot}"
                                                        StrokeThickness="0.75"
                                                        x:Name="ellipse">
                                            <shapes:Ellipse.Fill>
                                                <media:LinearGradientBrush EndPoint="0.5,1"
                                                                           StartPoint="0.5,0">
                                                    <media:GradientStop Color="#FFFFFFFF" />
                                                    <media:GradientStop Color="#FFD7E3EC"
                                                                        Offset="0.80400002002716064" />
                                                    <media:GradientStop Color="#FFFBFBFB"
                                                                        Offset="0.37099999189376831" />
                                                </media:LinearGradientBrush>
                                            </shapes:Ellipse.Fill>
                                        </shapes:Ellipse>
                                        <shapes:Ellipse Stroke="{markup:StaticResource Dot}"
                                                        Height="2"
                                                        Margin="8,2,8,0"
                                                        VerticalAlignment="Top"
                                                        Width="2"
                                                        x:Name="ellipse1">
                                            <shapes:Ellipse.Fill>
                                                <media:RadialGradientBrush>
                                                    <media:RadialGradientBrush.RelativeTransform>
                                                        <media:TransformGroup>
                                                            <media:ScaleTransform CenterX="0.5"
                                                                                  CenterY="0.5"
                                                                                  ScaleX="2.381"
                                                                                  ScaleY="1.817" />
                                                            <media:SkewTransform CenterX="0.5"
                                                                                 CenterY="0.5" />
                                                            <media:RotateTransform Angle="0.966"
                                                                                   CenterX="0.5"
                                                                                   CenterY="0.5" />
                                                            <media:TranslateTransform X="-0.2"
                                                                                      Y="0.087" />
                                                        </media:TransformGroup>
                                                    </media:RadialGradientBrush.RelativeTransform>
                                                    <media:GradientStop Color="#FF000000" />
                                                    <media:GradientStop Color="#FFFB6A05"
                                                                        Offset="1" />
                                                    <media:GradientStop Color="#FF4E4E4F"
                                                                        Offset="0.446" />
                                                </media:RadialGradientBrush>
                                            </shapes:Ellipse.Fill>
                                        </shapes:Ellipse>
                                        <shapes:Ellipse Height="2"
                                                        Margin="8,0,8,2"
                                                        VerticalAlignment="Bottom"
                                                        Stroke="{markup:StaticResource Dot}"
                                                        Width="2"
                                                        x:Name="ellipse2">
                                            <shapes:Ellipse.Fill>
                                                <media:RadialGradientBrush>
                                                    <media:RadialGradientBrush.RelativeTransform>
                                                        <media:TransformGroup>
                                                            <media:ScaleTransform CenterX="0.5"
                                                                                  CenterY="0.5"
                                                                                  ScaleX="2.381"
                                                                                  ScaleY="1.817" />
                                                            <media:SkewTransform CenterX="0.5"
                                                                                 CenterY="0.5" />
                                                            <media:RotateTransform Angle="0.966"
                                                                                   CenterX="0.5"
                                                                                   CenterY="0.5" />
                                                            <media:TranslateTransform X="-0.2"
                                                                                      Y="0.087" />
                                                        </media:TransformGroup>
                                                    </media:RadialGradientBrush.RelativeTransform>
                                                    <media:GradientStop Color="#FF000000" />
                                                    <media:GradientStop Color="#FFFB6A05"
                                                                        Offset="1" />
                                                    <media:GradientStop Color="#FF4E4E4F"
                                                                        Offset="0.446" />
                                                </media:RadialGradientBrush>
                                            </shapes:Ellipse.Fill>
                                        </shapes:Ellipse>
                                        <shapes:Ellipse HorizontalAlignment="Left"
                                                        Margin="2,10,0,0"
                                                        Width="1"
                                                        Stroke="{markup:StaticResource Dot}"
                                                        VerticalAlignment="Top"
                                                        Height="1"
                                                        x:Name="ellipse3">
                                            <shapes:Ellipse.Fill>
                                                <media:RadialGradientBrush>
                                                    <media:RadialGradientBrush.RelativeTransform>
                                                        <media:TransformGroup>
                                                            <media:ScaleTransform CenterX="0.5"
                                                                                  CenterY="0.5"
                                                                                  ScaleX="2.381"
                                                                                  ScaleY="1.817" />
                                                            <media:SkewTransform CenterX="0.5"
                                                                                 CenterY="0.5" />
                                                            <media:RotateTransform Angle="0.966"
                                                                                   CenterX="0.5"
                                                                                   CenterY="0.5" />
                                                            <media:TranslateTransform X="-0.2"
                                                                                      Y="0.087" />
                                                        </media:TransformGroup>
                                                    </media:RadialGradientBrush.RelativeTransform>
                                                    <media:GradientStop Color="#FF000000" />
                                                    <media:GradientStop Color="#FFFB6A05"
                                                                        Offset="1" />
                                                    <media:GradientStop Color="#FF4E4E4F"
                                                                        Offset="0.446" />
                                                </media:RadialGradientBrush>
                                            </shapes:Ellipse.Fill>
                                        </shapes:Ellipse>
                                        <shapes:Ellipse HorizontalAlignment="Right"
                                                        Margin="0,10,2,0"
                                                        Width="1.05"
                                                        Stroke="{markup:StaticResource Dot}"
                                                        VerticalAlignment="Top"
                                                        Height="1.421"
                                                        x:Name="ellipse4">
                                            <shapes:Ellipse.Fill>
                                                <media:RadialGradientBrush>
                                                    <media:RadialGradientBrush.RelativeTransform>
                                                        <media:TransformGroup>
                                                            <media:ScaleTransform CenterX="0.5"
                                                                                  CenterY="0.5"
                                                                                  ScaleX="2.381"
                                                                                  ScaleY="1.817" />
                                                            <media:SkewTransform CenterX="0.5"
                                                                                 CenterY="0.5" />
                                                            <media:RotateTransform Angle="0.966"
                                                                                   CenterX="0.5"
                                                                                   CenterY="0.5" />
                                                            <media:TranslateTransform X="-0.2"
                                                                                      Y="0.087" />
                                                        </media:TransformGroup>
                                                    </media:RadialGradientBrush.RelativeTransform>
                                                    <media:GradientStop Color="#FF000000" />
                                                    <media:GradientStop Color="#FFFB6A05"
                                                                        Offset="1" />
                                                    <media:GradientStop Color="#FF4E4E4F"
                                                                        Offset="0.446" />
                                                </media:RadialGradientBrush>
                                            </shapes:Ellipse.Fill>
                                        </shapes:Ellipse>
                                        <shapes:Path Fill="{markup:Null}"
                                                     Height="8.258"
                                                     Margin="9,6,5,0"
                                                     VerticalAlignment="Top"
                                                     Stretch="Fill"
                                                     Data="M10.108397,6.5404582 L10.108397,10.415268 L13.538931,13.738435"
                                                     HorizontalAlignment="Left">
                                            <shapes:Path.Stroke>
                                                <media:LinearGradientBrush EndPoint="0.5,1"
                                                                           StartPoint="0.5,0">
                                                    <media:GradientStop Color="#FF5B91D2" />
                                                    <media:GradientStop Color="#FFC1570E"
                                                                        Offset="0.996" />
                                                </media:LinearGradientBrush>
                                            </shapes:Path.Stroke>
                                        </shapes:Path>
                                        <!-- disabled visual -->
                                        <shapes:Rectangle x:Name="DisabledVisualElement"
                                                          IsHitTestVisible="false"
                                                          Opacity="0"
                                                          Fill="#FFFFFFFF"
                                                          RadiusX="3"
                                                          RadiusY="3" />
                                    </controls:Grid>
                                </controls:Grid>
                            </controls:ControlTemplate>
                        </controls:Grid.Resources>

                        <controls:Grid.ColumnDefinitions>
                            <controls:ColumnDefinition Width="*" />
                            <controls:ColumnDefinition Width="Auto" />
                        </controls:Grid.ColumnDefinitions>

                        <!-- Value is being synched in code, because of inability to do TwoWay TemplateBinding -->
                        <controls:TimeUpDown x:Name="TimeUpDown"
                                             Height="Auto"
                                             Background="{TemplateBinding Background}"
                                             BorderBrush="{TemplateBinding BorderBrush}"
                                             BorderThickness="{TemplateBinding BorderThickness}"
                                             Padding="{TemplateBinding Padding}"
                                             Style="{TemplateBinding TimeUpDownStyle}"
                                             SpinnerStyle="{TemplateBinding SpinnerStyle}"
                                             Minimum="{TemplateBinding Minimum}"
                                             Maximum="{TemplateBinding Maximum}"
                                             TimeParsers="{TemplateBinding TimeParsers}"
                                             Format="{TemplateBinding Format}"
                                             Culture="{TemplateBinding Culture}"
                                             TimeGlobalizationInfo="{TemplateBinding TimeGlobalizationInfo}"
                                             controls:Grid.Column="0" />
                        <primitives:ToggleButton x:Name="DropDownToggle"
                                                 Template="{markup:StaticResource PopupButtonTemplate}"
                                                 Margin="3,0,0,0"
                                                 VerticalAlignment="Center"
                                                 HorizontalAlignment="Center"
                                                 controls:Grid.Column="1" />
                        <!-- Value is being synched in code, because of inability to do TwoWay TemplateBinding -->
                        <primitives:Popup x:Name="Popup">
                            <controls:Border x:Name="PopupRoot"
                                             BorderBrush="#FF8d8b8b"
                                             BorderThickness="1">
                                <controls:ContentControl x:Name="PopupPlaceHolder"
                                                         IsTabStop="False"
                                                         HorizontalContentAlignment="Stretch"
                                                         VerticalContentAlignment="Stretch" />
                            </controls:Border>
                        </primitives:Popup>
                    </controls:Grid>
                </controls:ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  controls:ButtonSpinner  -->
    <Style TargetType="controls:ButtonSpinner">
        <Setter Property="HorizontalContentAlignment"
                Value="Center" />
        <Setter Property="BorderBrush"
                Value="#FF718597" />
        <Setter Property="Background"
                Value="Transparent" />
        <Setter Property="BorderThickness"
                Value="1" />
        <Setter Property="VerticalContentAlignment"
                Value="Center" />
        <Setter Property="Template">
            <Setter.Value>
                <controls:ControlTemplate TargetType="controls:ButtonSpinner">
                    <controls:Grid>
                        <controls:Grid.Resources>
                            <controls:ControlTemplate x:Key="IncreaseButtonTemplate"
                                                      TargetType="primitives:RepeatButton">
                                <controls:Grid x:Name="Root">
                                    <VisualStateManager.VisualStateGroups>
                                        <VisualStateGroup x:Name="CommonStates">
                                            <VisualStateGroup.Transitions>
                                                <VisualTransition GeneratedDuration="0" />
                                                <VisualTransition GeneratedDuration="00:00:00.1"
                                                                  To="MouseOver" />
                                                <VisualTransition GeneratedDuration="00:00:00.1"
                                                                  To="Pressed" />
                                            </VisualStateGroup.Transitions>
                                            <VisualState x:Name="Normal" />
                                            <VisualState x:Name="MouseOver">
                                                <animation:Storyboard>
                                                    <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="Background"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="#FF448DCA" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                    <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(GradientBrush.GradientStops)[1].(GradientStop.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="#F2FFFFFF" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                    <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(GradientBrush.GradientStops)[2].(GradientStop.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="#CCFFFFFF" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                    <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(GradientBrush.GradientStops)[3].(GradientStop.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="#7FFFFFFF" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                </animation:Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="Pressed">
                                                <animation:Storyboard>
                                                    <animation:DoubleAnimationUsingKeyFrames animation:Storyboard.TargetName="Highlight"
                                                                                             animation:Storyboard.TargetProperty="(UIElement.Opacity)">
                                                        <animation:SplineDoubleKeyFrame KeyTime="00:00:00"
                                                                                        Value="1" />
                                                    </animation:DoubleAnimationUsingKeyFrames>
                                                    <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="Background"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="#FF448DCA" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                    <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(GradientBrush.GradientStops)[0].(GradientStop.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="#F4FFFFFF" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                    <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(GradientBrush.GradientStops)[1].(GradientStop.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="#EAFFFFFF" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                    <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(GradientBrush.GradientStops)[2].(GradientStop.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="#C6FFFFFF" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                    <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(GradientBrush.GradientStops)[3].(GradientStop.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="#6BFFFFFF" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                </animation:Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="Disabled">
                                                <animation:Storyboard>
                                                    <animation:DoubleAnimationUsingKeyFrames animation:Storyboard.TargetName="DisabledVisualElement"
                                                                                             animation:Storyboard.TargetProperty="Opacity">
                                                        <animation:SplineDoubleKeyFrame KeyTime="0"
                                                                                        Value="1" />
                                                    </animation:DoubleAnimationUsingKeyFrames>
                                                </animation:Storyboard>
                                            </VisualState>
                                        </VisualStateGroup>
                                        <VisualStateGroup x:Name="FocusStates">
                                            <VisualState x:Name="Focused">
                                                <animation:Storyboard>
                                                    <animation:ObjectAnimationUsingKeyFrames Duration="0"
                                                                                             animation:Storyboard.TargetName="FocusVisualElement"
                                                                                             animation:Storyboard.TargetProperty="Visibility">
                                                        <animation:DiscreteObjectKeyFrame KeyTime="0"
                                                                                          Value="Visible" />
                                                    </animation:ObjectAnimationUsingKeyFrames>
                                                </animation:Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="Unfocused" />
                                        </VisualStateGroup>
                                    </VisualStateManager.VisualStateGroups>
                                    <shapes:Rectangle x:Name="Background"
                                                      Fill="{TemplateBinding Background}"
                                                      StrokeThickness="1"
                                                      RadiusX="2"
                                                      RadiusY="2">
                                        <shapes:Rectangle.Stroke>
                                            <media:LinearGradientBrush EndPoint=".5,1"
                                                                       StartPoint=".5,0">
                                                <media:GradientStop Color="#FFAEB7BF"
                                                                    Offset="0" />
                                                <media:GradientStop Color="#FF919EA7"
                                                                    Offset="0.35" />
                                                <media:GradientStop Color="#FF7A8A99"
                                                                    Offset="0.35" />
                                                <media:GradientStop Color="#FF647480"
                                                                    Offset="1" />
                                            </media:LinearGradientBrush>
                                        </shapes:Rectangle.Stroke>
                                    </shapes:Rectangle>
                                    <shapes:Rectangle Margin="1"
                                                      x:Name="BackgroundGradient"
                                                      Stroke="#FFFFFFFF"
                                                      StrokeThickness="1"
                                                      RadiusX="1"
                                                      RadiusY="1">
                                        <shapes:Rectangle.Fill>
                                            <media:LinearGradientBrush EndPoint=".7,1"
                                                                       StartPoint=".7,0">
                                                <media:GradientStop Color="#FFFFFFFF"
                                                                    Offset="0" />
                                                <media:GradientStop Color="#F9FFFFFF"
                                                                    Offset="0.375" />
                                                <media:GradientStop Color="#E5FFFFFF"
                                                                    Offset="0.625" />
                                                <media:GradientStop Color="#C6FFFFFF"
                                                                    Offset="1" />
                                            </media:LinearGradientBrush>
                                        </shapes:Rectangle.Fill>
                                    </shapes:Rectangle>
                                    <shapes:Rectangle Margin="1"
                                                      x:Name="Highlight"
                                                      IsHitTestVisible="false"
                                                      Opacity="0"
                                                      Stroke="#FF45D6FA"
                                                      StrokeThickness="1"
                                                      RadiusX="1"
                                                      RadiusY="1" />
                                    <controls:Border x:Name="DisabledVisualElement"
                                                     IsHitTestVisible="False"
                                                     Opacity="0"
                                                     Background="#A5F7F7F7"
                                                     BorderBrush="#A5F7F7F7"
                                                     BorderThickness="{TemplateBinding BorderThickness}" />
                                    <shapes:Rectangle x:Name="FocusVisualElement"
                                                      IsHitTestVisible="false"
                                                      Visibility="Collapsed"
                                                      Stroke="#FF45D6FA"
                                                      StrokeThickness="1"
                                                      RadiusX="1"
                                                      RadiusY="1" />
                                    <shapes:Path HorizontalAlignment="Stretch"
                                                 VerticalAlignment="Stretch"
                                                 Fill="#FF333333"
                                                 Stretch="Uniform"
                                                 Data="F1 M 541.537,173.589L 531.107,173.589L 536.322,167.49L 541.537,173.589 Z "
                                                 Margin="4,3,4,3" />
                                </controls:Grid>
                            </controls:ControlTemplate>
                            <controls:ControlTemplate x:Key="DecreaseButtonTemplate"
                                                      TargetType="primitives:RepeatButton">
                                <controls:Grid x:Name="Root">
                                    <VisualStateManager.VisualStateGroups>
                                        <VisualStateGroup x:Name="CommonStates">
                                            <VisualStateGroup.Transitions>
                                                <VisualTransition GeneratedDuration="0" />
                                                <VisualTransition GeneratedDuration="00:00:00.1"
                                                                  To="MouseOver" />
                                                <VisualTransition GeneratedDuration="00:00:00.1"
                                                                  To="Pressed" />
                                            </VisualStateGroup.Transitions>
                                            <VisualState x:Name="Normal" />
                                            <VisualState x:Name="MouseOver">
                                                <animation:Storyboard>
                                                    <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="Background"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="#FF448DCA" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                    <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(GradientBrush.GradientStops)[1].(GradientStop.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="#F2FFFFFF" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                    <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(GradientBrush.GradientStops)[2].(GradientStop.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="#CCFFFFFF" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                    <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(GradientBrush.GradientStops)[3].(GradientStop.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="#7FFFFFFF" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                </animation:Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="Pressed">
                                                <animation:Storyboard>
                                                    <animation:DoubleAnimationUsingKeyFrames animation:Storyboard.TargetName="Highlight"
                                                                                             animation:Storyboard.TargetProperty="(UIElement.Opacity)">
                                                        <animation:SplineDoubleKeyFrame KeyTime="00:00:00"
                                                                                        Value="1" />
                                                    </animation:DoubleAnimationUsingKeyFrames>
                                                    <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="Background"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="#FF448DCA" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                    <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(GradientBrush.GradientStops)[0].(GradientStop.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="#F4FFFFFF" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                    <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(GradientBrush.GradientStops)[1].(GradientStop.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="#EAFFFFFF" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                    <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(GradientBrush.GradientStops)[2].(GradientStop.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="#C6FFFFFF" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                    <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="BackgroundGradient"
                                                                                            animation:Storyboard.TargetProperty="(Shape.Fill).(GradientBrush.GradientStops)[3].(GradientStop.Color)">
                                                        <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                                       Value="#6BFFFFFF" />
                                                    </animation:ColorAnimationUsingKeyFrames>
                                                </animation:Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="Disabled">
                                                <animation:Storyboard>
                                                    <animation:DoubleAnimationUsingKeyFrames animation:Storyboard.TargetName="DisabledVisualElement"
                                                                                             animation:Storyboard.TargetProperty="Opacity">
                                                        <animation:SplineDoubleKeyFrame KeyTime="0"
                                                                                        Value="1" />
                                                    </animation:DoubleAnimationUsingKeyFrames>
                                                </animation:Storyboard>
                                            </VisualState>
                                        </VisualStateGroup>
                                        <VisualStateGroup x:Name="FocusStates">
                                            <VisualState x:Name="Focused">
                                                <animation:Storyboard>
                                                    <animation:ObjectAnimationUsingKeyFrames Duration="0"
                                                                                             animation:Storyboard.TargetName="FocusVisualElement"
                                                                                             animation:Storyboard.TargetProperty="Visibility">
                                                        <animation:DiscreteObjectKeyFrame KeyTime="0"
                                                                                          Value="Visible" />
                                                    </animation:ObjectAnimationUsingKeyFrames>
                                                </animation:Storyboard>
                                            </VisualState>
                                            <VisualState x:Name="Unfocused" />
                                        </VisualStateGroup>
                                    </VisualStateManager.VisualStateGroups>
                                    <shapes:Rectangle x:Name="Background"
                                                      Fill="{TemplateBinding Background}"
                                                      StrokeThickness="1"
                                                      RadiusX="2"
                                                      RadiusY="2">
                                        <shapes:Rectangle.Stroke>
                                            <media:LinearGradientBrush EndPoint=".5,1"
                                                                       StartPoint=".5,0">
                                                <media:GradientStop Color="#FFAEB7BF"
                                                                    Offset="0" />
                                                <media:GradientStop Color="#FF919EA7"
                                                                    Offset="0.35" />
                                                <media:GradientStop Color="#FF7A8A99"
                                                                    Offset="0.35" />
                                                <media:GradientStop Color="#FF647480"
                                                                    Offset="1" />
                                            </media:LinearGradientBrush>
                                        </shapes:Rectangle.Stroke>
                                    </shapes:Rectangle>
                                    <shapes:Rectangle Margin="1"
                                                      x:Name="BackgroundGradient"
                                                      Stroke="#FFFFFFFF"
                                                      StrokeThickness="1"
                                                      RadiusX="1"
                                                      RadiusY="1">
                                        <shapes:Rectangle.Fill>
                                            <media:LinearGradientBrush EndPoint=".7,1"
                                                                       StartPoint=".7,0">
                                                <media:GradientStop Color="#FFFFFFFF"
                                                                    Offset="0" />
                                                <media:GradientStop Color="#F9FFFFFF"
                                                                    Offset="0.375" />
                                                <media:GradientStop Color="#E5FFFFFF"
                                                                    Offset="0.625" />
                                                <media:GradientStop Color="#C6FFFFFF"
                                                                    Offset="1" />
                                            </media:LinearGradientBrush>
                                        </shapes:Rectangle.Fill>
                                    </shapes:Rectangle>
                                    <shapes:Rectangle Margin="1"
                                                      x:Name="Highlight"
                                                      IsHitTestVisible="false"
                                                      Opacity="0"
                                                      Stroke="#FF45D6FA"
                                                      StrokeThickness="1"
                                                      RadiusX="1"
                                                      RadiusY="1" />
                                    <controls:Border x:Name="DisabledVisualElement"
                                                     IsHitTestVisible="False"
                                                     Opacity="0"
                                                     Background="#A5F7F7F7"
                                                     BorderBrush="#A5F7F7F7"
                                                     BorderThickness="{TemplateBinding BorderThickness}" />
                                    <shapes:Rectangle x:Name="FocusVisualElement"
                                                      IsHitTestVisible="false"
                                                      Visibility="Collapsed"
                                                      Stroke="#FF45D6FA"
                                                      StrokeThickness="1"
                                                      RadiusX="1"
                                                      RadiusY="1" />
                                    <shapes:Path Height="Auto"
                                                 HorizontalAlignment="Stretch"
                                                 Margin="4,3,4,3"
                                                 VerticalAlignment="Stretch"
                                                 Width="Auto"
                                                 Fill="#FF333333"
                                                 Stretch="Uniform"
                                                 Data="F1 M 531.107,321.943L 541.537,321.943L 536.322,328.042L 531.107,321.943 Z " />
                                </controls:Grid>
                            </controls:ControlTemplate>
                        </controls:Grid.Resources>
                        <VisualStateManager.VisualStateGroups>
                            <!-- common states -->
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualStateGroup.Transitions>
                                    <VisualTransition GeneratedDuration="0" />
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="Normal" />
                                <VisualState x:Name="MouseOver">
                                    <animation:Storyboard>
                                        <animation:ColorAnimationUsingKeyFrames animation:Storyboard.TargetName="MouseOverBorder"
                                                                                animation:Storyboard.TargetProperty="(Border.BorderBrush).(SolidColorBrush.Color)">
                                            <animation:SplineColorKeyFrame KeyTime="0"
                                                                           Value="#FF99C1E2" />
                                        </animation:ColorAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                                <VisualState x:Name="Disabled">
                                    <animation:Storyboard>
                                        <animation:ObjectAnimationUsingKeyFrames Duration="0"
                                                                                 animation:Storyboard.TargetName="presentationSite"
                                                                                 animation:Storyboard.TargetProperty="Foreground">
                                            <animation:DiscreteObjectKeyFrame KeyTime="00:00:00">
                                                <animation:DiscreteObjectKeyFrame.Value>
                                                    <media:SolidColorBrush Color="Gray" />
                                                </animation:DiscreteObjectKeyFrame.Value>
                                            </animation:DiscreteObjectKeyFrame>
                                        </animation:ObjectAnimationUsingKeyFrames>
                                        <animation:ObjectAnimationUsingKeyFrames Duration="0"
                                                                                 animation:Storyboard.TargetName="ElementContainer"
                                                                                 animation:Storyboard.TargetProperty="BorderBrush">
                                            <animation:DiscreteObjectKeyFrame KeyTime="00:00:00">
                                                <animation:DiscreteObjectKeyFrame.Value>
                                                    <media:SolidColorBrush Color="Gray" />
                                                </animation:DiscreteObjectKeyFrame.Value>
                                            </animation:DiscreteObjectKeyFrame>
                                        </animation:ObjectAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                            <!-- focus states -->
                            <VisualStateGroup x:Name="FocusStates">
                                <VisualState x:Name="Focused">
                                    <animation:Storyboard>
                                        <animation:ObjectAnimationUsingKeyFrames Duration="0"
                                                                                 animation:Storyboard.TargetName="FocusVisualElement"
                                                                                 animation:Storyboard.TargetProperty="Visibility">
                                            <animation:DiscreteObjectKeyFrame KeyTime="0"
                                                                              Value="Visible" />
                                        </animation:ObjectAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                                <VisualState x:Name="Unfocused" />
                            </VisualStateGroup>
                            <!-- Increase states -->
                            <VisualStateGroup x:Name="IncreaseStates">
                                <VisualState x:Name="IncreaseEnabled" />
                                <VisualState x:Name="IncreaseDisabled" />
                            </VisualStateGroup>
                            <!-- Decrease states-->
                            <VisualStateGroup x:Name="DecreaseStates">
                                <VisualState x:Name="DecreaseEnabled" />
                                <VisualState x:Name="DecreaseDisabled" />
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <controls:Border x:Name="ElementContainer"
                                         Background="{TemplateBinding Background}"
                                         BorderBrush="{TemplateBinding BorderBrush}"
                                         BorderThickness="{TemplateBinding BorderThickness}"
                                         Padding="{TemplateBinding Padding}">
                            <controls:Border x:Name="MouseOverBorder"
                                             BorderThickness="1"
                                             BorderBrush="Transparent">
                                <controls:Grid>
                                    <controls:Grid.RowDefinitions>
                                        <controls:RowDefinition Height="*" />
                                        <controls:RowDefinition Height="*" />
                                    </controls:Grid.RowDefinitions>
                                    <controls:Grid.ColumnDefinitions>
                                        <controls:ColumnDefinition Width="*" />
                                        <controls:ColumnDefinition Width="Auto" />
                                    </controls:Grid.ColumnDefinitions>
                                    <controls:ContentControl x:Name="presentationSite"
                                                             controls:Grid.RowSpan="2"
                                                             IsTabStop="False"
                                                             HorizontalContentAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                             VerticalContentAlignment="{TemplateBinding VerticalContentAlignment}"
                                                             Content="{TemplateBinding Content}" />
                                    <controls:Button IsTabStop="False"
                                                     IsHitTestVisible="True"
                                                     controls:Grid.Row="0"
                                                     controls:Grid.RowSpan="2"
                                                     controls:Grid.Column="1">
                                        <controls:Button.Template>
                                            <controls:ControlTemplate TargetType="controls:Button">
                                                <controls:Grid Background="Transparent" />
                                            </controls:ControlTemplate>
                                        </controls:Button.Template>
                                    </controls:Button>
                                    <primitives:RepeatButton controls:Grid.Row="0"
                                                             controls:Grid.Column="1"
                                                             IsTabStop="False"
                                                             Template="{markup:StaticResource IncreaseButtonTemplate}"
                                                             x:Name="IncreaseButton"
                                                             ClickMode="Press" />
                                    <primitives:RepeatButton controls:Grid.Row="1"
                                                             controls:Grid.Column="1"
                                                             IsTabStop="False"
                                                             Template="{markup:StaticResource DecreaseButtonTemplate}"
                                                             x:Name="DecreaseButton"
                                                             ClickMode="Press" />
                                </controls:Grid>
                            </controls:Border>
                        </controls:Border>
                        <controls:Border x:Name="FocusVisualElement"
                                         IsHitTestVisible="false"
                                         Visibility="Collapsed"
                                         BorderBrush="#FF45D6FA"
                                         BorderThickness="{TemplateBinding BorderThickness}"
                                         CornerRadius="1,1,1,1" />
                    </controls:Grid>
                </controls:ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  controls:DomainUpDown  -->
    <Style TargetType="controls:DomainUpDown">
        <Setter Property="HorizontalContentAlignment"
                Value="Left" />
        <Setter Property="VerticalContentAlignment"
                Value="Center" />
        <Setter Property="Height"
                Value="22" />
        <Setter Property="BorderThickness"
                Value="1" />
        <Setter Property="Background"
                Value="Transparent" />
        <Setter Property="Padding"
                Value="0" />
        <Setter Property="IsTabStop"
                Value="False" />
        <Setter Property="BorderBrush"
                Value="#FF718597" />
        <Setter Property="Template">
            <Setter.Value>
                <controls:ControlTemplate TargetType="controls:DomainUpDown">
                    <controls:Grid x:Name="RootElement">
                        <VisualStateManager.VisualStateGroups>
                            <!-- common states -->
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal" />
                                <VisualState x:Name="Pressed" />
                                <VisualState x:Name="MouseOver">
                                    <!-- composite controls will visualize mouseover state -->
                                </VisualState>
                                <VisualState x:Name="Disabled">
                                    <!-- composite controls will visualize disabled state -->
                                </VisualState>
                            </VisualStateGroup>
                            <!-- focus states -->
                            <VisualStateGroup x:Name="FocusStates">
                                <VisualState x:Name="Focused">
                                    <!-- composite controls will gain focus and visualize it -->
                                </VisualState>
                                <VisualState x:Name="Unfocused">
                                    <!-- composite controls will gain focus and visualize it -->
                                </VisualState>
                            </VisualStateGroup>
                            <!-- interaction mode states -->
                            <VisualStateGroup x:Name="InteractionModeStates">
                                <VisualState x:Name="Edit">
                                    <animation:Storyboard>
                                        <animation:DoubleAnimation Duration="0"
                                                                   animation:Storyboard.TargetName="Text"
                                                                   animation:Storyboard.TargetProperty="(UIElement.Opacity)"
                                                                   To="1" />
                                        <animation:DoubleAnimation Duration="0"
                                                                   animation:Storyboard.TargetName="Visualization"
                                                                   animation:Storyboard.TargetProperty="(UIElement.Opacity)"
                                                                   To="0" />
                                    </animation:Storyboard>
                                </VisualState>
                                <VisualState x:Name="Display" />
                            </VisualStateGroup>
                            <!-- input valid states -->
                            <VisualStateGroup x:Name="DomainStates">
                                <VisualState x:Name="ValidDomain">
                                </VisualState>
                                <VisualState x:Name="InvalidDomain">
                                    <animation:Storyboard>
                                        <animation:ObjectAnimationUsingKeyFrames animation:Storyboard.TargetName="ErrorVisualElement"
                                                                                 animation:Storyboard.TargetProperty="(UIElement.Visibility)"
                                                                                 Duration="0">
                                            <animation:DiscreteObjectKeyFrame KeyTime="0"
                                                                              Value="Visible" />
                                        </animation:ObjectAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <!-- the actual control -->
                        <controls:ButtonSpinner x:Name="Spinner"
                                                Background="{TemplateBinding Background}"
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                Padding="{TemplateBinding Padding}"
                                                HorizontalAlignment="Stretch"
                                                VerticalAlignment="Stretch"
                                                HorizontalContentAlignment="Stretch"
                                                VerticalContentAlignment="Stretch"
                                                Style="{TemplateBinding SpinnerStyle}"
                                                IsTabStop="False"
                                                TabIndex="3">
                            <controls:Grid>
                                <controls:ContentControl x:Name="Visualization"
                                                         Margin="0"
                                                         Padding="0"
                                                         Opacity="1"
                                                         IsTabStop="False"
                                                         IsHitTestVisible="False"
                                                         HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                         VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                         Content="{TemplateBinding Value}"
                                                         ContentTemplate="{TemplateBinding ItemTemplate}"
                                                         FontFamily="{TemplateBinding FontFamily}"
                                                         FontSize="{TemplateBinding FontSize}"
                                                         FontStretch="{TemplateBinding FontStretch}"
                                                         Foreground="{TemplateBinding Foreground}" />
                                <controls:TextBox x:Name="Text"
                                                  Opacity="0"
                                                  Margin="0"
                                                  Padding="0"
                                                  IsTabStop="True"
                                                  Background="Red"
                                                  VerticalAlignment="{TemplateBinding VerticalContentAlignment}"
                                                  HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}"
                                                  BorderThickness="0"
                                                  FontFamily="{TemplateBinding FontFamily}"
                                                  FontSize="{TemplateBinding FontSize}"
                                                  FontStretch="{TemplateBinding FontStretch}"
                                                  Foreground="{TemplateBinding Foreground}"
                                                  AcceptsReturn="False"
                                                  IsHitTestVisible="False"
                                                  TextWrapping="NoWrap">
                                    <controls:TextBox.Style>
                                        <Style TargetType="controls:TextBox">
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <controls:ControlTemplate TargetType="controls:TextBox">
                                                        <controls:ScrollViewer x:Name="ContentElement"
                                                                               Padding="0"
                                                                               BorderThickness="0" />
                                                    </controls:ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </controls:TextBox.Style>
                                </controls:TextBox>
                            </controls:Grid>
                        </controls:ButtonSpinner>
                        <controls:Border x:Name="ErrorVisualElement"
                                         CornerRadius="1"
                                         Visibility="Collapsed"
                                         Margin="-2"
                                         IsHitTestVisible="False"
                                         BorderBrush="Red"
                                         BorderThickness="2" />
                    </controls:Grid>
                </controls:ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  controls:NumericUpDown  -->
    <Style TargetType="controls:NumericUpDown">
        <Setter Property="BorderThickness"
                Value="1" />
        <Setter Property="Height"
                Value="22" />
        <Setter Property="BorderBrush"
                Value="#FF718597" />
        <Setter Property="Template">
            <Setter.Value>
                <controls:ControlTemplate TargetType="controls:NumericUpDown">
                    <controls:Grid>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualStateGroup.Transitions>
                                    <VisualTransition GeneratedDuration="0" />
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="Normal" />
                                <VisualState x:Name="Disabled">
                                    <animation:Storyboard>
                                        <animation:DoubleAnimation Duration="0"
                                                                   animation:Storyboard.TargetName="DisabledVisualElement"
                                                                   animation:Storyboard.TargetProperty="(UIElement.Opacity)"
                                                                   To="1" />
                                    </animation:Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="FocusStates">
                                <VisualState x:Name="Focused">
                                    <animation:Storyboard>
                                        <animation:DoubleAnimationUsingKeyFrames animation:Storyboard.TargetName="FocusVisualElement"
                                                                                 animation:Storyboard.TargetProperty="Opacity">
                                            <animation:SplineDoubleKeyFrame KeyTime="0"
                                                                            Value="1" />
                                        </animation:DoubleAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                                <VisualState x:Name="Unfocused" />
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <controls:ButtonSpinner x:Name="Spinner"
                                                MinWidth="35"
                                                HorizontalContentAlignment="Stretch"
                                                VerticalContentAlignment="Stretch">
                            <controls:TextBox BorderThickness="0"
                                              FontFamily="{TemplateBinding FontFamily}"
                                              FontSize="{TemplateBinding FontSize}"
                                              FontStretch="{TemplateBinding FontStretch}"
                                              FontStyle="{TemplateBinding FontStyle}"
                                              FontWeight="{TemplateBinding FontWeight}"
                                              Foreground="{TemplateBinding Foreground}"
                                              MinWidth="20"
                                              x:Name="Text"
                                              AcceptsReturn="False"
                                              Text="{TemplateBinding Value}"
                                              TextAlignment="Right"
                                              TextWrapping="NoWrap">
                                <controls:TextBox.Style>
                                    <Style TargetType="controls:TextBox">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <controls:ControlTemplate TargetType="controls:TextBox">
                                                    <controls:ScrollViewer x:Name="ContentElement"
                                                                           Padding="0"
                                                                           BorderThickness="0" />
                                                </controls:ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </controls:TextBox.Style>
                            </controls:TextBox>
                        </controls:ButtonSpinner>
                        <controls:Border x:Name="DisabledVisualElement"
                                         IsHitTestVisible="false"
                                         Opacity="0"
                                         Background="#A5FFFFFF"
                                         CornerRadius="2.5,2.5,2.5,2.5" />
                        <controls:Border x:Name="FocusVisualElement"
                                         IsHitTestVisible="False"
                                         Opacity="0"
                                         BorderBrush="#FF45D6FA"
                                         BorderThickness="{TemplateBinding BorderThickness}"
                                         CornerRadius="1,1,1,1" />
                    </controls:Grid>
                </controls:ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  controls:Picker  -->
    <Style TargetType="controls:Picker">
        <Setter Property="Template">
            <Setter.Value>
                <controls:ControlTemplate TargetType="controls:Picker">
                    <controls:Grid x:Name="RootElement">
                        <VisualStateManager.VisualStateGroups>
                            <!-- Popup states -->
                            <VisualStateGroup x:Name="PopupStates">
                                <VisualStateGroup.Transitions>
                                    <VisualTransition GeneratedDuration="0:0:0.1"
                                                      To="PopupOpened" />
                                    <VisualTransition GeneratedDuration="0:0:0.2"
                                                      To="PopupClosed" />
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="PopupOpened">
                                    <animation:Storyboard>
                                        <animation:DoubleAnimation animation:Storyboard.TargetName="PopupRoot"
                                                                   animation:Storyboard.TargetProperty="Opacity"
                                                                   To="1.0" />
                                    </animation:Storyboard>
                                </VisualState>
                                <VisualState x:Name="PopupClosed">
                                    <animation:Storyboard>
                                        <animation:DoubleAnimation animation:Storyboard.TargetName="PopupRoot"
                                                                   animation:Storyboard.TargetProperty="Opacity"
                                                                   To="0.0" />
                                    </animation:Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>

                        <primitives:ToggleButton x:Name="DropDownToggle"
                                                 Content="Toggle popup" />

                        <primitives:Popup x:Name="Popup">
                            <controls:Border x:Name="PopupRoot"
                                             HorizontalAlignment="Stretch"
                                             BorderThickness="0"
                                             CornerRadius="3">
                                <!-- place content here. -->
                            </controls:Border>
                        </primitives:Popup>

                    </controls:Grid>
                </controls:ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  controls:Rating  -->
    <Style TargetType="controls:Rating">
        <Setter Property="Background"
                Value="#FFFFFFFF" />
        <Setter Property="BorderBrush"
                Value="#FF545454" />
        <Setter Property="BorderThickness"
                Value="0" />
        <Setter Property="Foreground">
            <Setter.Value>
                <media:RadialGradientBrush Center="0.548,0.475"
                                           GradientOrigin="0.484,0.537">
                    <media:GradientStop Color="#FFB10000"
                                        Offset="1" />
                    <media:GradientStop Color="#FFF70000" />
                    <media:GradientStop Color="#FFFA0000"
                                        Offset="0.043" />
                </media:RadialGradientBrush>
            </Setter.Value>
        </Setter>
        <Setter Property="ItemsPanel">
            <Setter.Value>
                <controls:ItemsPanelTemplate>
                    <controls:StackPanel Orientation="Horizontal" />
                </controls:ItemsPanelTemplate>
            </Setter.Value>
        </Setter>
        <Setter Property="Template">
            <Setter.Value>
                <controls:ControlTemplate TargetType="controls:Rating">
                    <controls:Grid x:Name="Root">
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualState x:Name="Normal" />
                                <VisualState x:Name="MouseOver" />
                                <VisualState x:Name="Pressed" />
                                <VisualState x:Name="Disabled" />
                                <VisualState x:Name="ReadOnly">
                                    <animation:Storyboard>
                                        <animation:DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 Duration="00:00:00.0010000"
                                                                                 animation:Storyboard.TargetName="ReadOnlyVisualElement"
                                                                                 animation:Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <animation:EasingDoubleKeyFrame KeyTime="00:00:00"
                                                                            Value="0.03" />
                                        </animation:DoubleAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="FocusStates">
                                <VisualState x:Name="Focused" />
                                <VisualState x:Name="Unfocused" />
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <controls:Border Background="{TemplateBinding Background}"
                                         BorderBrush="{TemplateBinding BorderBrush}"
                                         BorderThickness="{TemplateBinding BorderThickness}">
                            <controls:ItemsPresenter />
                        </controls:Border>
                        <controls:Border x:Name="ReadOnlyVisualElement"
                                         IsHitTestVisible="False"
                                         Opacity="0"
                                         Background="#83FFFFFF"
                                         BorderBrush="#A5F7F7F7"
                                         BorderThickness="{TemplateBinding BorderThickness}" />
                        <controls:Border x:Name="DisabledVisualElement"
                                         IsHitTestVisible="False"
                                         Opacity="0"
                                         Background="#FF4D4D4D"
                                         BorderBrush="#A5F7F7F7"
                                         BorderThickness="{TemplateBinding BorderThickness}" />
                        <shapes:Rectangle x:Name="FocusVisualElement"
                                          StrokeThickness="1"
                                          RadiusX="1"
                                          RadiusY="1"
                                          IsHitTestVisible="false"
                                          Visibility="Collapsed" />
                    </controls:Grid>
                </controls:ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  controls:RatingItem  -->
    <Style TargetType="controls:RatingItem">
        <Setter Property="BorderBrush"
                Value="#FF545454" />
        <Setter Property="Template">
            <Setter.Value>
                <controls:ControlTemplate TargetType="controls:RatingItem">
                    <controls:Grid Background="{TemplateBinding Background}"
                                   Width="20">
                        <controls:Grid.RowDefinitions>
                            <controls:RowDefinition Height="20" />
                            <controls:RowDefinition Height="Auto" />
                        </controls:Grid.RowDefinitions>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualStateGroup.Transitions>
                                    <VisualTransition GeneratedDuration="00:00:00.2000000" />
                                    <VisualTransition From="MouseOver"
                                                      GeneratedDuration="00:00:00.2000000"
                                                      To="Normal" />
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="Normal" />
                                <VisualState x:Name="MouseOver">
                                    <animation:Storyboard>
                                        <animation:DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 Duration="00:00:00.0010000"
                                                                                 animation:Storyboard.TargetName="MouseOverRatingItem"
                                                                                 animation:Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <animation:SplineDoubleKeyFrame KeyTime="00:00:00"
                                                                            Value="1" />
                                        </animation:DoubleAnimationUsingKeyFrames>
                                        <animation:DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 Duration="00:00:00.0010000"
                                                                                 animation:Storyboard.TargetName="MouseOverHighlight"
                                                                                 animation:Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <animation:SplineDoubleKeyFrame KeyTime="00:00:00"
                                                                            Value="0.325" />
                                        </animation:DoubleAnimationUsingKeyFrames>
                                        <animation:ColorAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                Duration="00:00:00.0010000"
                                                                                animation:Storyboard.TargetName="MouseOverHighlight"
                                                                                animation:Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)">
                                            <animation:SplineColorKeyFrame KeyTime="00:00:00"
                                                                           Value="#FF6E0000" />
                                        </animation:ColorAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                                <VisualState x:Name="Pressed">
                                    <animation:Storyboard>
                                        <animation:ColorAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                Duration="00:00:00.0010000"
                                                                                animation:Storyboard.TargetName="PressedRatingItem"
                                                                                animation:Storyboard.TargetProperty="(Shape.Fill).(SolidColorBrush.Color)">
                                            <animation:EasingColorKeyFrame KeyTime="00:00:00"
                                                                           Value="#FFFEFEFE" />
                                        </animation:ColorAnimationUsingKeyFrames>
                                        <animation:DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 Duration="00:00:00.0010000"
                                                                                 animation:Storyboard.TargetName="PressedRatingItem"
                                                                                 animation:Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <animation:EasingDoubleKeyFrame KeyTime="00:00:00"
                                                                            Value="0.39" />
                                        </animation:DoubleAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                                <VisualState x:Name="Disabled">
                                    <animation:Storyboard>
                                        <animation:DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 Duration="00:00:00.0010000"
                                                                                 animation:Storyboard.TargetName="DisabledRatingItem"
                                                                                 animation:Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <animation:EasingDoubleKeyFrame KeyTime="00:00:00"
                                                                            Value="1" />
                                        </animation:DoubleAnimationUsingKeyFrames>
                                        <animation:DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 Duration="00:00:00.0010000"
                                                                                 animation:Storyboard.TargetName="DisabledRatingItemBackground"
                                                                                 animation:Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <animation:EasingDoubleKeyFrame KeyTime="00:00:00"
                                                                            Value="1" />
                                        </animation:DoubleAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                                <VisualState x:Name="ReadOnly">
                                    <animation:Storyboard>
                                        <animation:DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 Duration="00:00:00.0010000"
                                                                                 animation:Storyboard.TargetName="ReadOnlyRatingItem"
                                                                                 animation:Storyboard.TargetProperty="(UIElement.Opacity)">
                                            <animation:EasingDoubleKeyFrame KeyTime="00:00:00"
                                                                            Value="1" />
                                        </animation:DoubleAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="FocusStates">
                                <VisualStateGroup.Transitions>
                                    <VisualTransition GeneratedDuration="00:00:00.1000000" />
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="Focused">
                                    <animation:Storyboard />
                                </VisualState>
                                <VisualState x:Name="Unfocused" />
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="FillStates">
                                <VisualStateGroup.Transitions>
                                    <VisualTransition GeneratedDuration="00:00:00.1000000" />
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="Empty" />
                                <VisualState x:Name="Partial" />
                                <VisualState x:Name="Filled" />
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <controls:Border Background="#02FFFFFF"
                                         BorderThickness="0" />
                        <shapes:Path x:Name="DefaultRatingItem"
                                     Fill="White"
                                     Stretch="Fill"
                                     Stroke="{TemplateBinding BorderBrush}"
                                     StrokeLineJoin="Round"
                                     StrokeThickness="0.4"
                                     VerticalAlignment="Stretch"
                                     Opacity="1"
                                     UseLayoutRounding="False"
                                     Data="M15,0 L18.6,11.373603 L30,11.459046 L20.824955,18.573566 L24.270519,30 L15,23.023449 L5.7294912,30 L9.1750822,18.573566 L0,11.459046 L11.399999,11.373603 z" />
                        <primitives:LinearClipper RatioVisible="{TemplateBinding DisplayValue}"
                                                  ExpandDirection="Right">
                            <shapes:Path Fill="{TemplateBinding Foreground}"
                                         Stretch="Fill"
                                         Stroke="{markup:Null}"
                                         StrokeLineJoin="Round"
                                         VerticalAlignment="Stretch"
                                         Opacity="1"
                                         UseLayoutRounding="False"
                                         Data="M15,0 L18.6,11.373603 L30,11.459046 L20.824955,18.573566 L24.270519,30 L15,23.023449 L5.7294912,30 L9.1750822,18.573566 L0,11.459046 L11.399999,11.373603 z" />
                        </primitives:LinearClipper>
                        <shapes:Path x:Name="MouseOverRatingItem"
                                     Fill="{TemplateBinding Foreground}"
                                     Stretch="Fill"
                                     Stroke="{markup:Null}"
                                     StrokeLineJoin="Round"
                                     VerticalAlignment="Stretch"
                                     Opacity="0"
                                     UseLayoutRounding="False"
                                     Data="M15,0 L18.6,11.373603 L30,11.459046 L20.824955,18.573566 L24.270519,30 L15,23.023449 L5.7294912,30 L9.1750822,18.573566 L0,11.459046 L11.399999,11.373603 z" />
                        <shapes:Path x:Name="MouseOverHighlight"
                                     Fill="#FFFFFFFF"
                                     Stretch="Fill"
                                     Stroke="{markup:Null}"
                                     StrokeLineJoin="Round"
                                     VerticalAlignment="Stretch"
                                     Opacity="0"
                                     UseLayoutRounding="False"
                                     Data="M15,0 L18.6,11.373603 L30,11.459046 L20.824955,18.573566 L24.270519,30 L15,23.023449 L5.7294912,30 L9.1750822,18.573566 L0,11.459046 L11.399999,11.373603 z" />
                        <shapes:Path x:Name="PressedRatingItem"
                                     Stretch="Fill"
                                     Stroke="{markup:Null}"
                                     StrokeLineJoin="Round"
                                     VerticalAlignment="Stretch"
                                     UseLayoutRounding="False"
                                     Data="M15,0 L18.6,11.373603 L30,11.459046 L20.824955,18.573566 L24.270519,30 L15,23.023449 L5.7294912,30 L9.1750822,18.573566 L0,11.459046 L11.399999,11.373603 z"
                                     Fill="#82000000"
                                     Opacity="0" />
                        <shapes:Path x:Name="FocusRatingItem"
                                     Stretch="Fill"
                                     Stroke="#FF6DBDD1"
                                     StrokeLineJoin="Round"
                                     StrokeThickness="0.01"
                                     VerticalAlignment="Stretch"
                                     Opacity="0"
                                     UseLayoutRounding="False"
                                     Data="M15,0 L18.6,11.373603 L30,11.459046 L20.824955,18.573566 L24.270519,30 L15,23.023449 L5.7294912,30 L9.1750822,18.573566 L0,11.459046 L11.399999,11.373603 z" />
                        <shapes:Path x:Name="ReadOnlyRatingItem"
                                     Fill="#18FFFFFF"
                                     Stretch="Fill"
                                     Stroke="{TemplateBinding BorderBrush}"
                                     StrokeLineJoin="Round"
                                     StrokeThickness="0.4"
                                     VerticalAlignment="Stretch"
                                     UseLayoutRounding="False"
                                     Data="M15,0 L18.6,11.373603 L30,11.459046 L20.824955,18.573566 L24.270519,30 L15,23.023449 L5.7294912,30 L9.1750822,18.573566 L0,11.459046 L11.399999,11.373603 z"
                                     IsHitTestVisible="False"
                                     Opacity="0" />
                        <shapes:Path x:Name="DisabledRatingItemBackground"
                                     Stretch="Fill"
                                     Stroke="{markup:Null}"
                                     StrokeLineJoin="Round"
                                     VerticalAlignment="Stretch"
                                     UseLayoutRounding="False"
                                     Data="M15,0 L18.6,11.373603 L30,11.459046 L20.824955,18.573566 L24.270519,30 L15,23.023449 L5.7294912,30 L9.1750822,18.573566 L0,11.459046 L11.399999,11.373603 z"
                                     Fill="Gainsboro"
                                     Opacity="0" />
                        <primitives:LinearClipper x:Name="DisabledRatingItem"
                                                  RatioVisible="{TemplateBinding DisplayValue}"
                                                  ExpandDirection="Right"
                                                  Opacity="0">
                            <shapes:Path Stretch="Fill"
                                         Stroke="{markup:Null}"
                                         StrokeLineJoin="Round"
                                         VerticalAlignment="Stretch"
                                         Opacity="1"
                                         UseLayoutRounding="False"
                                         Data="M15,0 L18.6,11.373603 L30,11.459046 L20.824955,18.573566 L24.270519,30 L15,23.023449 L5.7294912,30 L9.1750822,18.573566 L0,11.459046 L11.399999,11.373603 z"
                                         Fill="#FF5E5E5E" />
                        </primitives:LinearClipper>
                        <controls:ContentPresenter x:Name="Content"
                                                   Cursor="{TemplateBinding Cursor}"
                                                   HorizontalAlignment="Left"
                                                   Margin="{TemplateBinding Padding}"
                                                   Content="{TemplateBinding Content}"
                                                   ContentTemplate="{TemplateBinding ContentTemplate}"
                                                   controls:Grid.RowSpan="2"
                                                   controls:Grid.Row="1" />
                    </controls:Grid>
                </controls:ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  controls:TimeUpDown  -->
    <Style TargetType="controls:TimeUpDown">
        <Setter Property="BorderThickness"
                Value="1" />
        <Setter Property="Background"
                Value="Transparent" />
        <Setter Property="Height"
                Value="22" />
        <Setter Property="IsTabStop"
                Value="False" />
        <Setter Property="MinWidth"
                Value="100" />
        <Setter Property="BorderBrush"
                Value="#FF718597" />
        <Setter Property="Template">
            <Setter.Value>
                <controls:ControlTemplate TargetType="controls:TimeUpDown">
                    <controls:Grid>
                        <!-- visual states -->
                        <VisualStateManager.VisualStateGroups>
                            <!-- common states-->
                            <VisualStateGroup x:Name="CommonStates">
                                <!-- all contained elements are controls that will take
                care of visualizing the disabled state themselves -->
                                <VisualStateGroup.Transitions>
                                    <VisualTransition GeneratedDuration="0" />
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="Normal" />
                                <VisualState x:Name="MouseOver" />
                                <VisualState x:Name="Pressed" />
                                <VisualState x:Name="Disabled" />
                            </VisualStateGroup>
                            <!-- focus states -->
                            <VisualStateGroup x:Name="FocusStates">
                                <!-- all contained elements are controls that will take
                care of visualizing the focus state themselves -->
                                <VisualState x:Name="Focused" />
                                <VisualState x:Name="Unfocused" />
                            </VisualStateGroup>
                            <!-- TimeHintStates -->
                            <VisualStateGroup x:Name="TimeHintStates">
                                <VisualState x:Name="TimeHintOpenedUp">
                                    <animation:Storyboard>
                                        <animation:ObjectAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 animation:Storyboard.TargetName="TimeHintVisualElement"
                                                                                 animation:Storyboard.TargetProperty="Visibility">
                                            <animation:DiscreteObjectKeyFrame KeyTime="00:00:00"
                                                                              Value="Visible" />
                                        </animation:ObjectAnimationUsingKeyFrames>
                                        <animation:DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 animation:Storyboard.TargetName="TimeHintVisualElement"
                                                                                 animation:Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.Y)">
                                            <animation:SplineDoubleKeyFrame KeyTime="00:00:00.200"
                                                                            KeySpline="0,0,0,1"
                                                                            Value="-23" />
                                        </animation:DoubleAnimationUsingKeyFrames>
                                        <animation:DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 animation:Storyboard.TargetName="TimeHintVisualElement"
                                                                                 animation:Storyboard.TargetProperty="Height">
                                            <animation:DiscreteDoubleKeyFrame KeyTime="00:00:00"
                                                                              Value="0" />
                                            <animation:SplineDoubleKeyFrame KeyTime="00:00:00.200"
                                                                            KeySpline="0,0,0,1"
                                                                            Value="22" />
                                        </animation:DoubleAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                                <VisualState x:Name="TimeHintOpenedDown">
                                    <animation:Storyboard>
                                        <animation:ObjectAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 animation:Storyboard.TargetName="TimeHintVisualElement"
                                                                                 animation:Storyboard.TargetProperty="Visibility">
                                            <animation:DiscreteObjectKeyFrame KeyTime="00:00:00"
                                                                              Value="Visible" />
                                        </animation:ObjectAnimationUsingKeyFrames>
                                        <animation:DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 animation:Storyboard.TargetName="TimeHintVisualElement"
                                                                                 animation:Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.Y)">
                                            <animation:SplineDoubleKeyFrame KeyTime="00:00:00.200"
                                                                            KeySpline="0,0,0,1"
                                                                            Value="0" />
                                        </animation:DoubleAnimationUsingKeyFrames>
                                        <animation:DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 animation:Storyboard.TargetName="TimeHintVisualElement"
                                                                                 animation:Storyboard.TargetProperty="Height">
                                            <animation:DiscreteDoubleKeyFrame KeyTime="00:00:00"
                                                                              Value="0" />
                                            <animation:SplineDoubleKeyFrame KeyTime="00:00:00.200"
                                                                            KeySpline="0,0,0,1"
                                                                            Value="22" />
                                        </animation:DoubleAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                                <VisualState x:Name="TimeHintClosed">
                                    <animation:Storyboard>
                                        <animation:ObjectAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 animation:Storyboard.TargetName="TimeHintVisualElement"
                                                                                 animation:Storyboard.TargetProperty="Visibility">
                                            <animation:DiscreteObjectKeyFrame KeyTime="00:00:20"
                                                                              Value="Collapsed" />
                                        </animation:ObjectAnimationUsingKeyFrames>
                                        <animation:DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 animation:Storyboard.TargetName="TimeHintVisualElement"
                                                                                 animation:Storyboard.TargetProperty="(UIElement.RenderTransform).(TransformGroup.Children)[3].(TranslateTransform.Y)">
                                            <animation:SplineDoubleKeyFrame KeyTime="00:00:00.200"
                                                                            KeySpline="0,0,0,1"
                                                                            Value="0" />
                                        </animation:DoubleAnimationUsingKeyFrames>
                                        <animation:DoubleAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 animation:Storyboard.TargetName="TimeHintVisualElement"
                                                                                 animation:Storyboard.TargetProperty="Height">
                                            <animation:DiscreteDoubleKeyFrame KeyTime="00:00:00"
                                                                              Value="22" />
                                            <animation:SplineDoubleKeyFrame KeyTime="00:00:00.200"
                                                                            KeySpline="0,0,0,1"
                                                                            Value="0" />
                                        </animation:DoubleAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                            <!-- ParsingStates -->
                            <VisualStateGroup x:Name="ParsingStates">
                                <VisualState x:Name="ValidTime">
                                    <animation:Storyboard>
                                        <animation:ObjectAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 animation:Storyboard.TargetName="validicon"
                                                                                 animation:Storyboard.TargetProperty="Visibility">
                                            <animation:DiscreteObjectKeyFrame KeyTime="00:00:00"
                                                                              Value="Visible" />
                                        </animation:ObjectAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                                <VisualState x:Name="InvalidTime">
                                    <animation:Storyboard>
                                        <animation:ObjectAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 animation:Storyboard.TargetName="invalidicon"
                                                                                 animation:Storyboard.TargetProperty="Visibility">
                                            <animation:DiscreteObjectKeyFrame KeyTime="00:00:00"
                                                                              Value="Visible" />
                                        </animation:ObjectAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                                <VisualState x:Name="EmptyTime">
                                    <animation:Storyboard>
                                        <animation:ObjectAnimationUsingKeyFrames BeginTime="00:00:00"
                                                                                 animation:Storyboard.TargetName="emptyicon"
                                                                                 animation:Storyboard.TargetProperty="Visibility">
                                            <animation:DiscreteObjectKeyFrame KeyTime="00:00:00"
                                                                              Value="Visible" />
                                        </animation:ObjectAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <!-- Spinner + HintVisualElement + TextBox -->
                        <!-- the border will be 'flown out' to act as a balloon -->
                        <primitives:Popup x:Name="TimeHintPopup"
                                          VerticalOffset="0">
                            <controls:Border x:Name="TimeHintVisualElement"
                                             IsHitTestVisible="True"
                                             BorderBrush="Gray"
                                             Background="White"
                                             Visibility="Collapsed"
                                             HorizontalAlignment="Left"
                                             BorderThickness="1">
                                <controls:Border.RenderTransform>
                                    <media:TransformGroup>
                                        <media:ScaleTransform />
                                        <media:SkewTransform />
                                        <media:RotateTransform />
                                        <media:TranslateTransform />
                                    </media:TransformGroup>
                                </controls:Border.RenderTransform>
                                <controls:Grid>
                                    <controls:Grid.ColumnDefinitions>
                                        <controls:ColumnDefinition />
                                        <controls:ColumnDefinition Width="Auto"
                                                                   MinWidth="15" />
                                    </controls:Grid.ColumnDefinitions>
                                    <controls:ContentControl controls:Grid.Column="0"
                                                             IsTabStop="False"
                                                             IsHitTestVisible="False"
                                                             Margin="3"
                                                             HorizontalAlignment="Right"
                                                             VerticalAlignment="Center"
                                                             Foreground="#FF4A4A4A"
                                                             FontSize="10"
                                                             Content="{TemplateBinding TimeHintContent}" />
                                    <controls:ContentControl x:Name="emptyicon"
                                                             IsTabStop="False"
                                                             IsHitTestVisible="False"
                                                             Margin="3"
                                                             Visibility="Collapsed"
                                                             controls:Grid.Column="1" />
                                    <controls:ContentControl x:Name="validicon"
                                                             IsHitTestVisible="False"
                                                             IsTabStop="False"
                                                             Margin="3"
                                                             Visibility="Collapsed"
                                                             controls:Grid.Column="1" />
                                    <controls:ContentControl x:Name="invalidicon"
                                                             IsTabStop="False"
                                                             IsHitTestVisible="False"
                                                             Visibility="Collapsed"
                                                             VerticalAlignment="Center"
                                                             controls:Grid.Column="1">
                                        <controls:Grid VerticalAlignment="Bottom"
                                                       Width="10"
                                                       Height="13">
                                            <shapes:Path Stretch="Fill"
                                                         Data="F1 M 28.1143,29.4857L 28.1143,27.4286L 20.7612,13.0286L 19.3898,13.0286L 12.3429,27.4286L 12.3429,29.4857L 28.1143,29.4857 Z "
                                                         StrokeStartLineCap="Round"
                                                         StrokeEndLineCap="Round"
                                                         StrokeLineJoin="Bevel"
                                                         Height="11.833"
                                                         HorizontalAlignment="Stretch"
                                                         VerticalAlignment="Top">
                                                <shapes:Path.Stroke>
                                                    <media:LinearGradientBrush StartPoint="1.10074,0.462591"
                                                                               EndPoint="-0.102151,0.462591">
                                                        <media:GradientStop Color="#F6CAA709"
                                                                            Offset="0.0436364" />
                                                        <media:GradientStop Color="#F3F7F34F"
                                                                            Offset="0.149091" />
                                                        <media:GradientStop Color="#E7CAA709"
                                                                            Offset="0.825455" />
                                                        <media:GradientStop Color="#E7967C07"
                                                                            Offset="0.967124" />
                                                        <media:GradientStop Color="#E7625106"
                                                                            Offset="0.967273" />
                                                    </media:LinearGradientBrush>
                                                </shapes:Path.Stroke>
                                                <shapes:Path.Fill>
                                                    <media:LinearGradientBrush StartPoint="1.13883,0.460318"
                                                                               EndPoint="-0.140331,0.460318">
                                                        <media:GradientStop Color="#FFF7F79F"
                                                                            Offset="0.123636" />
                                                        <media:GradientStop Color="#FBFBFB7D"
                                                                            Offset="0.177662" />
                                                        <media:GradientStop Color="#F6FFFF5B"
                                                                            Offset="0.24" />
                                                        <media:GradientStop Color="#E7CAA709"
                                                                            Offset="0.52" />
                                                        <media:GradientStop Color="#9ADABE0C"
                                                                            Offset="0.941376" />
                                                        <media:GradientStop Color="#4DEBD60F"
                                                                            Offset="0.941818" />
                                                        <media:GradientStop Color="#FBF6EC20"
                                                                            Offset="0.956364" />
                                                        <media:GradientStop Color="#FFFFFF2F"
                                                                            Offset="0.963636" />
                                                    </media:LinearGradientBrush>
                                                </shapes:Path.Fill>
                                            </shapes:Path>
                                            <shapes:Path Stretch="Fill"
                                                         StrokeThickness="0.3"
                                                         StrokeStartLineCap="Round"
                                                         StrokeEndLineCap="Round"
                                                         StrokeLineJoin="Bevel"
                                                         Stroke="#FF1B1B54"
                                                         Data="F1 M 18.6937,17.3004L 22.2563,17.3004L 21.1313,23.6937L 19.8563,23.6937L 18.6937,17.3004 Z "
                                                         Margin="4.25,2.25,3.75,0"
                                                         Height="4.683"
                                                         VerticalAlignment="Top">
                                                <shapes:Path.Fill>
                                                    <media:LinearGradientBrush StartPoint="-0.400002,0.50126"
                                                                               EndPoint="1.4,0.50126">
                                                        <media:GradientStop Color="#FFF7F79F"
                                                                            Offset="0.123636" />
                                                        <media:GradientStop Color="#FB8F8873"
                                                                            Offset="0.175974" />
                                                        <media:GradientStop Color="#F6271A47"
                                                                            Offset="0.236364" />
                                                        <media:GradientStop Color="#E7271A47"
                                                                            Offset="0.534545" />
                                                        <media:GradientStop Color="#9A89782B"
                                                                            Offset="0.941391" />
                                                        <media:GradientStop Color="#4DEBD60F"
                                                                            Offset="0.941818" />
                                                        <media:GradientStop Color="#FBF6EC20"
                                                                            Offset="0.956364" />
                                                        <media:GradientStop Color="#FFFFFF2F"
                                                                            Offset="0.963636" />
                                                    </media:LinearGradientBrush>
                                                </shapes:Path.Fill>
                                            </shapes:Path>
                                            <shapes:Path Height="3.11"
                                                         Stretch="Fill"
                                                         StrokeThickness="0.3"
                                                         StrokeStartLineCap="Round"
                                                         StrokeEndLineCap="Round"
                                                         StrokeLineJoin="Round"
                                                         Stroke="#FF1C1C50"
                                                         Data="F1 M 20.225,25.122L 20.725,25.122C 21.2773,25.122 21.725,25.5697 21.725,26.122L 21.725,26.872C 21.725,27.4243 21.2773,27.872 20.725,27.872L 20.225,27.872C 19.6727,27.872 19.225,27.4243 19.225,26.872L 19.225,26.122C 19.225,25.5697 19.6727,25.122 20.225,25.122 Z "
                                                         Margin="3.833,0,4.167,0.833"
                                                         VerticalAlignment="Bottom">
                                                <shapes:Path.Fill>
                                                    <media:LinearGradientBrush StartPoint="-0.0599991,0.5"
                                                                               EndPoint="1.06,0.5">
                                                        <media:GradientStop Color="#F6271A47"
                                                                            Offset="0.236364" />
                                                        <media:GradientStop Color="#E7271A47"
                                                                            Offset="0.534545" />
                                                        <media:GradientStop Color="#9A89782B"
                                                                            Offset="0.98135" />
                                                        <media:GradientStop Color="#4DEBD60F"
                                                                            Offset="0.981818" />
                                                    </media:LinearGradientBrush>
                                                </shapes:Path.Fill>
                                            </shapes:Path>
                                        </controls:Grid>
                                    </controls:ContentControl>
                                </controls:Grid>
                            </controls:Border>
                        </primitives:Popup>
                        <controls:ButtonSpinner x:Name="Spinner"
                                                Background="{TemplateBinding Background}"
                                                BorderBrush="{TemplateBinding BorderBrush}"
                                                BorderThickness="{TemplateBinding BorderThickness}"
                                                Padding="{TemplateBinding Padding}"
                                                Style="{TemplateBinding SpinnerStyle}"
                                                MinWidth="35"
                                                HorizontalContentAlignment="Stretch"
                                                VerticalContentAlignment="Stretch"
                                                IsTabStop="False">
                            <controls:TextBox x:Name="Text"
                                              BorderThickness="0"
                                              FontFamily="{TemplateBinding FontFamily}"
                                              FontSize="{TemplateBinding FontSize}"
                                              FontStretch="{TemplateBinding FontStretch}"
                                              FontStyle="{TemplateBinding FontStyle}"
                                              FontWeight="{TemplateBinding FontWeight}"
                                              Foreground="{TemplateBinding Foreground}"
                                              MinWidth="20"
                                              AcceptsReturn="False"
                                              Text="{TemplateBinding Value}"
                                              TextAlignment="Right"
                                              TextWrapping="NoWrap">
                                <controls:TextBox.Style>
                                    <Style TargetType="controls:TextBox">
                                        <Setter Property="Template">
                                            <Setter.Value>
                                                <controls:ControlTemplate TargetType="controls:TextBox">
                                                    <controls:ScrollViewer x:Name="ContentElement"
                                                                           Padding="0"
                                                                           BorderThickness="0" />
                                                </controls:ControlTemplate>
                                            </Setter.Value>
                                        </Setter>
                                    </Style>
                                </controls:TextBox.Style>
                            </controls:TextBox>
                        </controls:ButtonSpinner>
                    </controls:Grid>
                </controls:ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <!--  controls:UpDownBase  -->
    <Style TargetType="controls:UpDownBase">
        <Setter Property="BorderThickness"
                Value="1" />
        <Setter Property="Background"
                Value="Transparent" />
        <Setter Property="Height"
                Value="22" />
        <Setter Property="BorderBrush"
                Value="#FF718597" />
        <Setter Property="Template">
            <Setter.Value>
                <controls:ControlTemplate TargetType="controls:UpDownBase">
                    <controls:Grid>
                        <VisualStateManager.VisualStateGroups>
                            <VisualStateGroup x:Name="CommonStates">
                                <VisualStateGroup.Transitions>
                                    <VisualTransition GeneratedDuration="0" />
                                </VisualStateGroup.Transitions>
                                <VisualState x:Name="Normal" />
                                <VisualState x:Name="Disabled">
                                    <animation:Storyboard>
                                        <animation:DoubleAnimation Duration="0"
                                                                   animation:Storyboard.TargetName="DisabledVisualElement"
                                                                   animation:Storyboard.TargetProperty="(UIElement.Opacity)"
                                                                   To="1" />
                                    </animation:Storyboard>
                                </VisualState>
                            </VisualStateGroup>
                            <VisualStateGroup x:Name="FocusStates">
                                <VisualState x:Name="Focused">
                                    <animation:Storyboard>
                                        <animation:DoubleAnimationUsingKeyFrames animation:Storyboard.TargetName="FocusVisualElement"
                                                                                 animation:Storyboard.TargetProperty="Opacity">
                                            <animation:SplineDoubleKeyFrame KeyTime="0"
                                                                            Value="1" />
                                        </animation:DoubleAnimationUsingKeyFrames>
                                    </animation:Storyboard>
                                </VisualState>
                                <VisualState x:Name="Unfocused" />
                            </VisualStateGroup>
                        </VisualStateManager.VisualStateGroups>
                        <controls:Border Background="{TemplateBinding Background}"
                                         BorderBrush="{TemplateBinding BorderBrush}"
                                         BorderThickness="{TemplateBinding BorderThickness}"
                                         Padding="{TemplateBinding Padding}">
                            <controls:ButtonSpinner x:Name="Spinner"
                                                    MinWidth="35"
                                                    HorizontalContentAlignment="Stretch"
                                                    VerticalContentAlignment="Stretch">
                                <controls:TextBox BorderThickness="0"
                                                  FontFamily="{TemplateBinding FontFamily}"
                                                  FontSize="{TemplateBinding FontSize}"
                                                  FontStretch="{TemplateBinding FontStretch}"
                                                  FontStyle="{TemplateBinding FontStyle}"
                                                  FontWeight="{TemplateBinding FontWeight}"
                                                  Foreground="{TemplateBinding Foreground}"
                                                  MinWidth="20"
                                                  x:Name="Text"
                                                  AcceptsReturn="False"
                                                  TextAlignment="Right"
                                                  TextWrapping="NoWrap">
                                    <controls:TextBox.Style>
                                        <Style TargetType="controls:TextBox">
                                            <Setter Property="Template">
                                                <Setter.Value>
                                                    <controls:ControlTemplate TargetType="controls:TextBox">
                                                        <controls:ScrollViewer x:Name="ContentElement"
                                                                               Padding="0"
                                                                               BorderThickness="0" />
                                                    </controls:ControlTemplate>
                                                </Setter.Value>
                                            </Setter>
                                        </Style>
                                    </controls:TextBox.Style>
                                </controls:TextBox>
                            </controls:ButtonSpinner>
                        </controls:Border>
                        <controls:Border x:Name="DisabledVisualElement"
                                         IsHitTestVisible="false"
                                         Opacity="0"
                                         Background="#A5FFFFFF"
                                         CornerRadius="2.5,2.5,2.5,2.5" />
                        <controls:Border x:Name="FocusVisualElement"
                                         IsHitTestVisible="False"
                                         Opacity="0"
                                         BorderBrush="#FF45D6FA"
                                         BorderThickness="{TemplateBinding BorderThickness}"
                                         CornerRadius="1,1,1,1" />
                    </controls:Grid>
                </controls:ControlTemplate>
            </Setter.Value>
        </Setter>
    </Style>

</ResourceDictionary>